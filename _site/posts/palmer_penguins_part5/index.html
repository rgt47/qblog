<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Your Name">
<meta name="dcterms.date" content="2025-01-05">
<meta name="description" content="The final part of our 5-part series comparing linear models with random forests and providing guidance for model selection in ecological research">

<title>Palmer Penguins Data Analysis Series (Part 5): Random Forest vs Linear Models - The Final Comparison – Thomas Lab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "?",
    "/"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400&amp;family=Open+Sans:ital,wght@0,400;0,600;1,400&amp;family=Fira+Mono:wght@400;500&amp;display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/0fba9333d8.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

<!-- Custom meta tags for social sharing -->
<meta property="og:site_name" content="Thomas Lab">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@rgt47">

<!-- Add responsive features -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- Add analytics if needed -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXX');
</script> -->

<!-- Add custom javascript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Remove code tools button completely
  const codeButton = document.querySelector('.code-tools-button');
  if (codeButton) {
    codeButton.remove();
  }
  
  // Add any custom JavaScript functionality here
  
  // Example: Add smooth scrolling
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      
      document.querySelector(this.getAttribute('href')).scrollIntoView({
        behavior: 'smooth'
      });
    });
  });
  
  // Make sidebar category items clickable (but not TOC items)
  const categoryLinks = {
    'Programming & Development': '/posts/?category=Programming+%26+Development',
    'Data Analysis & Visualization': '/posts/?category=Data+Analysis+%26+Visualization',
    'Deployment & Operations': '/posts/?category=Deployment+%26+Operations',
    'Development Environment': '/posts/?category=Development+Environment',
    'Shiny Applications': '/posts/?category=Shiny+Applications',
    'AI & Automation': '/posts/?category=AI+%26+Automation',
    'System Administration': '/posts/?category=System+Administration'
  };
  
  // Only target sidebar items that are not in the TOC
  document.querySelectorAll('.sidebar-item-section .sidebar-item-text').forEach(item => {
    // Skip if this is inside the TOC
    if (item.closest('#TOC')) return;
    
    const text = item.textContent.trim();
    if (categoryLinks[text]) {
      item.addEventListener('click', function() {
        window.location.href = categoryLinks[text];
      });
    }
  });
});
</script>


<meta property="og:title" content="Palmer Penguins Data Analysis Series (Part 5): Random Forest vs Linear Models - The Final Comparison – Thomas Lab">
<meta property="og:description" content="The final part of our 5-part series comparing linear models with random forests and providing guidance for model selection in ecological research">
<meta property="og:image" content="https://focusonr.org/images/posts/penguin-hero.jpg">
<meta property="og:site_name" content="Thomas Lab">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Thomas Lab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../white-papers/index.html"> 
<span class="menu-text">White Papers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/index.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching/index.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../misc/index.html"> 
<span class="menu-text">Misc</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/rgt47"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/rgt47"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#setup-and-model-arsenal" id="toc-setup-and-model-arsenal" class="nav-link" data-scroll-target="#setup-and-model-arsenal"><span class="header-section-number">2</span> Setup and Model Arsenal</a></li>
  <li><a href="#comprehensive-model-training" id="toc-comprehensive-model-training" class="nav-link" data-scroll-target="#comprehensive-model-training"><span class="header-section-number">3</span> Comprehensive Model Training</a>
  <ul class="collapse">
  <li><a href="#cross-validation-setup" id="toc-cross-validation-setup" class="nav-link" data-scroll-target="#cross-validation-setup"><span class="header-section-number">3.1</span> Cross-Validation Setup</a></li>
  <li><a href="#linear-model-variants" id="toc-linear-model-variants" class="nav-link" data-scroll-target="#linear-model-variants"><span class="header-section-number">3.2</span> Linear Model Variants</a></li>
  <li><a href="#random-forest-variants" id="toc-random-forest-variants" class="nav-link" data-scroll-target="#random-forest-variants"><span class="header-section-number">3.3</span> Random Forest Variants</a></li>
  </ul></li>
  <li><a href="#performance-comparison" id="toc-performance-comparison" class="nav-link" data-scroll-target="#performance-comparison"><span class="header-section-number">4</span> Performance Comparison</a>
  <ul class="collapse">
  <li><a href="#comprehensive-performance-table" id="toc-comprehensive-performance-table" class="nav-link" data-scroll-target="#comprehensive-performance-table"><span class="header-section-number">4.1</span> Comprehensive Performance Table</a></li>
  <li><a href="#statistical-significance-testing" id="toc-statistical-significance-testing" class="nav-link" data-scroll-target="#statistical-significance-testing"><span class="header-section-number">4.2</span> Statistical Significance Testing</a></li>
  <li><a href="#performance-visualization" id="toc-performance-visualization" class="nav-link" data-scroll-target="#performance-visualization"><span class="header-section-number">4.3</span> Performance Visualization</a></li>
  </ul></li>
  <li><a href="#feature-importance-analysis" id="toc-feature-importance-analysis" class="nav-link" data-scroll-target="#feature-importance-analysis"><span class="header-section-number">5</span> Feature Importance Analysis</a>
  <ul class="collapse">
  <li><a href="#random-forest-variable-importance" id="toc-random-forest-variable-importance" class="nav-link" data-scroll-target="#random-forest-variable-importance"><span class="header-section-number">5.1</span> Random Forest Variable Importance</a></li>
  <li><a href="#linear-model-coefficient-comparison" id="toc-linear-model-coefficient-comparison" class="nav-link" data-scroll-target="#linear-model-coefficient-comparison"><span class="header-section-number">5.2</span> Linear Model Coefficient Comparison</a></li>
  <li><a href="#feature-importance-comparison" id="toc-feature-importance-comparison" class="nav-link" data-scroll-target="#feature-importance-comparison"><span class="header-section-number">5.3</span> Feature Importance Comparison</a></li>
  </ul></li>
  <li><a href="#partial-dependence-analysis" id="toc-partial-dependence-analysis" class="nav-link" data-scroll-target="#partial-dependence-analysis"><span class="header-section-number">6</span> Partial Dependence Analysis</a>
  <ul class="collapse">
  <li><a href="#understanding-non-linear-relationships" id="toc-understanding-non-linear-relationships" class="nav-link" data-scroll-target="#understanding-non-linear-relationships"><span class="header-section-number">6.1</span> Understanding Non-linear Relationships</a></li>
  <li><a href="#interaction-effects" id="toc-interaction-effects" class="nav-link" data-scroll-target="#interaction-effects"><span class="header-section-number">6.2</span> Interaction Effects</a></li>
  </ul></li>
  <li><a href="#the-interpretability-performance-tradeoff" id="toc-the-interpretability-performance-tradeoff" class="nav-link" data-scroll-target="#the-interpretability-performance-tradeoff"><span class="header-section-number">7</span> The Interpretability-Performance Tradeoff</a>
  <ul class="collapse">
  <li><a href="#quantifying-the-tradeoff" id="toc-quantifying-the-tradeoff" class="nav-link" data-scroll-target="#quantifying-the-tradeoff"><span class="header-section-number">7.1</span> Quantifying the Tradeoff</a></li>
  <li><a href="#decision-framework-visualization" id="toc-decision-framework-visualization" class="nav-link" data-scroll-target="#decision-framework-visualization"><span class="header-section-number">7.2</span> Decision Framework Visualization</a></li>
  </ul></li>
  <li><a href="#model-selection-guidelines" id="toc-model-selection-guidelines" class="nav-link" data-scroll-target="#model-selection-guidelines"><span class="header-section-number">8</span> Model Selection Guidelines</a>
  <ul class="collapse">
  <li><a href="#when-to-choose-linear-models" id="toc-when-to-choose-linear-models" class="nav-link" data-scroll-target="#when-to-choose-linear-models"><span class="header-section-number">8.1</span> When to Choose Linear Models</a></li>
  <li><a href="#when-to-choose-random-forests" id="toc-when-to-choose-random-forests" class="nav-link" data-scroll-target="#when-to-choose-random-forests"><span class="header-section-number">8.2</span> When to Choose Random Forests</a></li>
  </ul></li>
  <li><a href="#practical-recommendations-for-ecological-research" id="toc-practical-recommendations-for-ecological-research" class="nav-link" data-scroll-target="#practical-recommendations-for-ecological-research"><span class="header-section-number">9</span> Practical Recommendations for Ecological Research</a>
  <ul class="collapse">
  <li><a href="#hybrid-approach" id="toc-hybrid-approach" class="nav-link" data-scroll-target="#hybrid-approach"><span class="header-section-number">9.1</span> Hybrid Approach</a></li>
  <li><a href="#context-specific-guidance" id="toc-context-specific-guidance" class="nav-link" data-scroll-target="#context-specific-guidance"><span class="header-section-number">9.2</span> Context-Specific Guidance</a></li>
  </ul></li>
  <li><a href="#series-conclusion" id="toc-series-conclusion" class="nav-link" data-scroll-target="#series-conclusion"><span class="header-section-number">10</span> Series Conclusion</a>
  <ul class="collapse">
  <li><a href="#our-journey-summary" id="toc-our-journey-summary" class="nav-link" data-scroll-target="#our-journey-summary"><span class="header-section-number">10.1</span> Our Journey Summary</a></li>
  <li><a href="#methodological-contributions" id="toc-methodological-contributions" class="nav-link" data-scroll-target="#methodological-contributions"><span class="header-section-number">10.2</span> Methodological Contributions</a></li>
  </ul></li>
  <li><a href="#final-thoughts" id="toc-final-thoughts" class="nav-link" data-scroll-target="#final-thoughts"><span class="header-section-number">11</span> Final Thoughts</a></li>
  <li><a href="#reproducibility-information" id="toc-reproducibility-information" class="nav-link" data-scroll-target="#reproducibility-information"><span class="header-section-number">12</span> Reproducibility Information</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Palmer Penguins Data Analysis Series (Part 5): Random Forest vs Linear Models - The Final Comparison</h1>
<p class="subtitle lead">Settling the interpretability vs performance debate in ecological modeling</p>
  <div class="quarto-categories">
    <div class="quarto-category">R Programming</div>
    <div class="quarto-category">Data Science</div>
    <div class="quarto-category">Statistical Computing</div>
    <div class="quarto-category">Machine Learning</div>
    <div class="quarto-category">Random Forest</div>
    <div class="quarto-category">Model Comparison</div>
    <div class="quarto-category">Palmer Penguins</div>
  </div>
  </div>

<div>
  <div class="description">
    The final part of our 5-part series comparing linear models with random forests and providing guidance for model selection in ecological research
  </div>
</div>


<div class="quarto-title-meta column-page-right">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Your Name </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 5, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../images/posts/penguin-hero.jpg" class="img-fluid figure-img"></p>
<figcaption>Two penguins at a crossroads - one holding a linear regression equation, the other holding a decision tree, representing the classic interpretability vs performance tradeoff!</figcaption>
</figure>
</div>
<p><em>Photo: African penguins at Boulders Beach, South Africa. Licensed under <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a> via <a href="https://commons.wikimedia.org/wiki/File:Boulders_Beach_penguins_(46475505885).jpg">Wikimedia Commons</a></em></p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🐧 Palmer Penguins Data Analysis Series - FINALE
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is <strong>Part 5</strong> (Final) of our 5-part series exploring penguin morphometrics:</p>
<ol type="1">
<li><a href="../palmer_penguins_part1/">Part 1: EDA and Simple Regression</a></li>
<li><a href="../palmer_penguins_part2/">Part 2: Multiple Regression and Species Effects</a></li>
<li><a href="../palmer_penguins_part3/">Part 3: Advanced Models and Cross-Validation</a></li>
<li><a href="../palmer_penguins_part4/">Part 4: Model Diagnostics and Interpretation</a></li>
<li><strong>Part 5: Random Forest vs Linear Models</strong> (This post - FINALE!)</li>
</ol>
</div>
</div>
<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>Welcome to the grand finale of our Palmer penguins data analysis journey! We’ve traveled far together - from basic exploratory analysis to sophisticated diagnostics, building and validating models that explain 86% of the variance in penguin body mass. But one crucial question has been lurking beneath the surface throughout our journey:</p>
<p><strong>Should we sacrifice the beautiful interpretability of linear models for potentially better predictive performance from machine learning algorithms?</strong></p>
<p>This question sits at the heart of modern data science, especially in scientific research where understanding <em>why</em> is often as important as predicting <em>what</em>. Today, we’ll conduct a comprehensive head-to-head comparison between our carefully crafted linear models and their machine learning challenger: random forests.</p>
<p>In this final post, we’ll explore:</p>
<ul>
<li>Comprehensive performance comparison using multiple metrics</li>
<li>Feature importance analysis and partial dependence plots</li>
<li>The interpretability-performance tradeoff in action</li>
<li>Practical guidance for model selection in ecological research</li>
<li>When to choose linear models vs.&nbsp;random forests</li>
<li>Best practices for communicating model choices to stakeholders</li>
</ul>
<p>By the end of this series finale, you’ll have a complete framework for making informed decisions about model complexity in your own research.</p>
</section>
<section id="setup-and-model-arsenal" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Setup and Model Arsenal</h1>
<p>Let’s assemble our complete modeling toolkit and establish fair comparison conditions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForest)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Conditional loading of optional packages</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>optional_packages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"pdp"</span>, <span class="st">"vip"</span>, <span class="st">"DALEX"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (pkg <span class="cf">in</span> optional_packages) {</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">requireNamespace</span>(pkg, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(pkg, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"[OK] Loaded"</span>, pkg, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"[INFO] Package '"</span>, pkg, <span class="st">"' not available. Install with: install.packages('"</span>, pkg, <span class="st">"')</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[INFO] Package ' pdp ' not available. Install with: install.packages(' pdp ')
[INFO] Package ' vip ' not available. Install with: install.packages(' vip ')
[INFO] Package ' DALEX ' not available. Install with: install.packages(' DALEX ')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set theme and colors</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>penguin_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FF6B6B"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#4ECDC4"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#45B7D1"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load and prepare data</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(penguins)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>penguins_clean <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>()</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Set seed for reproducibility</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== FINALE: The Ultimate Model Comparison ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== FINALE: The Ultimate Model Comparison ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"============================================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>============================================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Dataset: %d penguins across %d variables</span><span class="sc">\n</span><span class="st">"</span>, <span class="fu">nrow</span>(penguins_clean), <span class="fu">ncol</span>(penguins_clean)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dataset: 333 penguins across 8 variables</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Comparison: Linear Models vs Random Forests</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Comparison: Linear Models vs Random Forests</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Evaluation: Cross-validation with multiple metrics</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Evaluation: Cross-validation with multiple metrics</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Goal: Determine optimal approach for ecological modeling</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Goal: Determine optimal approach for ecological modeling</code></pre>
</div>
</div>
</section>
<section id="comprehensive-model-training" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Comprehensive Model Training</h1>
<p>Let’s train our complete arsenal of models using identical cross-validation procedures:</p>
<section id="cross-validation-setup" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="cross-validation-setup"><span class="header-section-number">3.1</span> Cross-Validation Setup</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Consistent cross-validation setup</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>train_control <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"cv"</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">number =</span> <span class="dv">10</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">savePredictions =</span> <span class="st">"final"</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">verboseIter =</span> <span class="cn">FALSE</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"--- Experimental Design ---</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>--- Experimental Design ---</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=======================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=======================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Cross-validation: 10-fold</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cross-validation: 10-fold</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Seed: 42 (consistent across all models)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Seed: 42 (consistent across all models)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Metrics: RMSE, R-squared, MAE</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Metrics: RMSE, R-squared, MAE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Evaluation: Performance + interpretability</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Evaluation: Performance + interpretability</code></pre>
</div>
</div>
</section>
<section id="linear-model-variants" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="linear-model-variants"><span class="header-section-number">3.2</span> Linear Model Variants</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple linear model</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>linear_simple <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  body_mass_g <span class="sc">~</span> flipper_length_mm,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> penguins_clean,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">trControl =</span> train_control</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple regression</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>linear_multiple <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  body_mass_g <span class="sc">~</span> bill_length_mm <span class="sc">+</span> bill_depth_mm <span class="sc">+</span> flipper_length_mm,</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> penguins_clean,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"lm"</span>, </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">trControl =</span> train_control</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Species-aware model (our champion from previous parts)</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>linear_species <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  body_mass_g <span class="sc">~</span> bill_length_mm <span class="sc">+</span> bill_depth_mm <span class="sc">+</span> flipper_length_mm <span class="sc">+</span> species,</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> penguins_clean,</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">trControl =</span> train_control</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Polynomial model</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>linear_poly <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>  body_mass_g <span class="sc">~</span> <span class="fu">poly</span>(flipper_length_mm, <span class="dv">2</span>) <span class="sc">+</span> <span class="fu">poly</span>(bill_length_mm, <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>                <span class="fu">poly</span>(bill_depth_mm, <span class="dv">2</span>) <span class="sc">+</span> species,</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> penguins_clean,</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">trControl =</span> train_control</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"[OK] Linear models trained:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[OK] Linear models trained:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Simple (flipper only)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Simple (flipper only)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Multiple (all morphometrics)</span><span class="sc">\n</span><span class="st">"</span>) </span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Multiple (all morphometrics)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Species-aware (morphometrics + species)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Species-aware (morphometrics + species)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Polynomial (quadratic features + species)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Polynomial (quadratic features + species)</code></pre>
</div>
</div>
</section>
<section id="random-forest-variants" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="random-forest-variants"><span class="header-section-number">3.3</span> Random Forest Variants</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic random forest (morphometrics only)</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>rf_basic <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  body_mass_g <span class="sc">~</span> bill_length_mm <span class="sc">+</span> bill_depth_mm <span class="sc">+</span> flipper_length_mm,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> penguins_clean,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"rf"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">trControl =</span> train_control,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ntree =</span> <span class="dv">500</span>,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">importance =</span> <span class="cn">TRUE</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>note: only 2 unique complexity parameters in default grid. Truncating the grid to 2 .</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Full random forest (all available predictors)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>rf_full <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  body_mass_g <span class="sc">~</span> bill_length_mm <span class="sc">+</span> bill_depth_mm <span class="sc">+</span> flipper_length_mm <span class="sc">+</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>                species <span class="sc">+</span> sex <span class="sc">+</span> island <span class="sc">+</span> year,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> penguins_clean,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"rf"</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">trControl =</span> train_control,</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ntree =</span> <span class="dv">500</span>,</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">importance =</span> <span class="cn">TRUE</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Tuned random forest (optimized hyperparameters)</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>rf_tuned <span class="ot">&lt;-</span> <span class="fu">train</span>(</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  body_mass_g <span class="sc">~</span> bill_length_mm <span class="sc">+</span> bill_depth_mm <span class="sc">+</span> flipper_length_mm <span class="sc">+</span> </span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>                species <span class="sc">+</span> sex <span class="sc">+</span> island,</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> penguins_clean,</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"rf"</span>,</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">trControl =</span> train_control,</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">tuneGrid =</span> <span class="fu">expand.grid</span>(<span class="at">mtry =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)),</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">ntree =</span> <span class="dv">500</span>,</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">importance =</span> <span class="cn">TRUE</span></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">[OK] Random forest models trained:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
[OK] Random forest models trained:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Basic (morphometrics only)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Basic (morphometrics only)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Full (all predictors)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Full (all predictors)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Tuned (optimized hyperparameters)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Tuned (optimized hyperparameters)</code></pre>
</div>
</div>
</section>
</section>
<section id="performance-comparison" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Performance Comparison</h1>
<section id="comprehensive-performance-table" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="comprehensive-performance-table"><span class="header-section-number">4.1</span> Comprehensive Performance Table</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compile all models</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>all_models <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Linear: Simple"</span> <span class="ot">=</span> linear_simple,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Linear: Multiple"</span> <span class="ot">=</span> linear_multiple,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Linear: Species"</span> <span class="ot">=</span> linear_species,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Linear: Polynomial"</span> <span class="ot">=</span> linear_poly,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RF: Basic"</span> <span class="ot">=</span> rf_basic,</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RF: Full"</span> <span class="ot">=</span> rf_full,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RF: Tuned"</span> <span class="ot">=</span> rf_tuned</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract performance metrics</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>performance_comparison <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(all_models, <span class="cf">function</span>(model) {</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  results <span class="ot">&lt;-</span> model<span class="sc">$</span>results</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>  best_idx <span class="ot">&lt;-</span> <span class="fu">which.min</span>(results<span class="sc">$</span>RMSE)</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">RMSE_mean =</span> results<span class="sc">$</span>RMSE[best_idx],</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">RMSE_sd =</span> <span class="fu">sd</span>(model<span class="sc">$</span>resample<span class="sc">$</span>RMSE),</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rsquared_mean =</span> results<span class="sc">$</span>Rsquared[best_idx],</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rsquared_sd =</span> <span class="fu">sd</span>(model<span class="sc">$</span>resample<span class="sc">$</span>Rsquared),</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">MAE_mean =</span> results<span class="sc">$</span>MAE[best_idx],</span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">MAE_sd =</span> <span class="fu">sd</span>(model<span class="sc">$</span>resample<span class="sc">$</span>MAE)</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>}, <span class="at">.id =</span> <span class="st">"Model"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(RMSE_mean) <span class="sc">%&gt;%</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rank =</span> <span class="fu">row_number</span>(),</span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model_Type =</span> <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(Model, <span class="st">"Linear"</span>), <span class="st">"Linear"</span>, <span class="st">"Random Forest"</span>)</span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Format for display</span></span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a>performance_display <span class="ot">&lt;-</span> performance_comparison <span class="sc">%&gt;%</span></span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">RMSE =</span> <span class="fu">sprintf</span>(<span class="st">"%.1f ± %.1f"</span>, RMSE_mean, RMSE_sd),</span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">R_squared =</span> <span class="fu">sprintf</span>(<span class="st">"%.3f ± %.3f"</span>, Rsquared_mean, Rsquared_sd),</span>
<span id="cb47-37"><a href="#cb47-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">MAE =</span> <span class="fu">sprintf</span>(<span class="st">"%.1f ± %.1f"</span>, MAE_mean, MAE_sd)</span>
<span id="cb47-38"><a href="#cb47-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb47-39"><a href="#cb47-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Rank, Model, Model_Type, RMSE, R_squared, MAE)</span>
<span id="cb47-40"><a href="#cb47-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-41"><a href="#cb47-41" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(performance_display,</span>
<span id="cb47-42"><a href="#cb47-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Complete Model Performance Comparison (Cross-Validated)"</span>,</span>
<span id="cb47-43"><a href="#cb47-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Rank"</span>, <span class="st">"Model"</span>, <span class="st">"Type"</span>, <span class="st">"RMSE (g)"</span>, <span class="st">"R²"</span>, <span class="st">"MAE (g)"</span>))</span></code></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Complete Model Performance Comparison (Cross-Validated)</caption>
<colgroup>
<col style="width: 6%">
<col style="width: 24%">
<col style="width: 17%">
<col style="width: 16%">
<col style="width: 17%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Rank</th>
<th style="text-align: left;">Model</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">RMSE (g)</th>
<th style="text-align: left;">R²</th>
<th style="text-align: left;">MAE (g)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">RF: Tuned</td>
<td style="text-align: left;">Random Forest</td>
<td style="text-align: left;">294.9 ± 45.6</td>
<td style="text-align: left;">0.866 ± 0.050</td>
<td style="text-align: left;">235.9 ± 38.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">RF: Full</td>
<td style="text-align: left;">Random Forest</td>
<td style="text-align: left;">296.0 ± 29.9</td>
<td style="text-align: left;">0.870 ± 0.024</td>
<td style="text-align: left;">236.7 ± 25.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Linear: Polynomial</td>
<td style="text-align: left;">Linear</td>
<td style="text-align: left;">310.3 ± 42.9</td>
<td style="text-align: left;">0.858 ± 0.035</td>
<td style="text-align: left;">249.4 ± 34.1</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Linear: Species</td>
<td style="text-align: left;">Linear</td>
<td style="text-align: left;">315.7 ± 32.2</td>
<td style="text-align: left;">0.856 ± 0.022</td>
<td style="text-align: left;">251.6 ± 24.8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">RF: Basic</td>
<td style="text-align: left;">Random Forest</td>
<td style="text-align: left;">341.4 ± 36.2</td>
<td style="text-align: left;">0.827 ± 0.042</td>
<td style="text-align: left;">269.0 ± 38.7</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">Linear: Simple</td>
<td style="text-align: left;">Linear</td>
<td style="text-align: left;">390.9 ± 54.0</td>
<td style="text-align: left;">0.775 ± 0.038</td>
<td style="text-align: left;">314.1 ± 42.9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: left;">Linear: Multiple</td>
<td style="text-align: left;">Linear</td>
<td style="text-align: left;">392.6 ± 41.7</td>
<td style="text-align: left;">0.769 ± 0.049</td>
<td style="text-align: left;">312.9 ± 27.3</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify top performers</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>top_linear <span class="ot">&lt;-</span> performance_comparison <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Model_Type <span class="sc">==</span> <span class="st">"Linear"</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_min</span>(RMSE_mean)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>top_rf <span class="ot">&lt;-</span> performance_comparison <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Model_Type <span class="sc">==</span> <span class="st">"Random Forest"</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_min</span>(RMSE_mean)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== Top Performers ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== Top Performers ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"==================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>==================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Best Linear Model: %s (RMSE: %.1f)</span><span class="sc">\n</span><span class="st">"</span>, top_linear<span class="sc">$</span>Model, top_linear<span class="sc">$</span>RMSE_mean))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Linear Model: Linear: Polynomial (RMSE: 310.3)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Best Random Forest: %s (RMSE: %.1f)</span><span class="sc">\n</span><span class="st">"</span>, top_rf<span class="sc">$</span>Model, top_rf<span class="sc">$</span>RMSE_mean))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Random Forest: RF: Tuned (RMSE: 294.9)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Performance Gap: %.1f grams RMSE</span><span class="sc">\n</span><span class="st">"</span>, top_linear<span class="sc">$</span>RMSE_mean <span class="sc">-</span> top_rf<span class="sc">$</span>RMSE_mean))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Performance Gap: 15.4 grams RMSE</code></pre>
</div>
</div>
</section>
<section id="statistical-significance-testing" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="statistical-significance-testing"><span class="header-section-number">4.2</span> Statistical Significance Testing</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare top models statistically</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>top_models <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Best Linear"</span> <span class="ot">=</span> all_models[[top_linear<span class="sc">$</span>Model]],</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Best RF"</span> <span class="ot">=</span> all_models[[top_rf<span class="sc">$</span>Model]]</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>model_resamples <span class="ot">&lt;-</span> <span class="fu">resamples</span>(top_models)</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_resamples)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
summary.resamples(object = model_resamples)

Models: Best Linear, Best RF 
Number of resamples: 10 

MAE 
                Min.  1st Qu.   Median     Mean  3rd Qu.     Max. NA's
Best Linear 200.8293 224.4082 246.0062 249.3694 262.8090 313.4748    0
Best RF     192.8103 213.8498 226.3612 235.9357 248.0156 321.0243    0

RMSE 
                Min.  1st Qu.   Median     Mean  3rd Qu.     Max. NA's
Best Linear 249.1883 278.4448 300.9560 310.2954 335.3805 376.1442    0
Best RF     240.0675 261.9729 278.6417 294.9201 319.6756 381.0386    0

Rsquared 
                 Min.   1st Qu.    Median      Mean   3rd Qu.      Max. NA's
Best Linear 0.7875702 0.8395449 0.8599082 0.8579618 0.8831732 0.9028425    0
Best RF     0.7337503 0.8651822 0.8712287 0.8663053 0.8872005 0.9195034    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistical test</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>model_diff <span class="ot">&lt;-</span> <span class="fu">diff</span>(model_resamples)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_diff)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
summary.diff.resamples(object = model_diff)

p-value adjustment: bonferroni 
Upper diagonal: estimates of the difference
Lower diagonal: p-value for H0: difference = 0

MAE 
            Best Linear Best RF
Best Linear             13.43  
Best RF     0.2413             

RMSE 
            Best Linear Best RF
Best Linear             15.38  
Best RF     0.4359             

Rsquared 
            Best Linear Best RF  
Best Linear             -0.008343
Best RF     0.5137               </code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">--- Statistical Comparison ---</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
--- Statistical Comparison ---</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"==========================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>==========================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Testing: Best Linear vs Best Random Forest</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Testing: Best Linear vs Best Random Forest</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Metric: RMSE difference</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Metric: RMSE difference</code></pre>
</div>
</div>
</section>
<section id="performance-visualization" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="performance-visualization"><span class="header-section-number">4.3</span> Performance Visualization</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create comprehensive comparison plots</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>all_cv_results <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(all_models, <span class="cf">function</span>(model) {</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">RMSE =</span> model<span class="sc">$</span>resample<span class="sc">$</span>RMSE,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rsquared =</span> model<span class="sc">$</span>resample<span class="sc">$</span>Rsquared,</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">MAE =</span> model<span class="sc">$</span>resample<span class="sc">$</span>MAE</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>}, <span class="at">.id =</span> <span class="st">"Model"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model_Type =</span> <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(Model, <span class="st">"Linear"</span>), <span class="st">"Linear"</span>, <span class="st">"Random Forest"</span>),</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="fu">factor</span>(Model, <span class="at">levels =</span> performance_comparison<span class="sc">$</span>Model)</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a><span class="co"># RMSE comparison</span></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_cv_results, <span class="fu">aes</span>(<span class="at">x =</span> Model, <span class="at">y =</span> RMSE, <span class="at">fill =</span> Model_Type)) <span class="sc">+</span></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">shape =</span> <span class="dv">23</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">fill =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#E74C3C"</span>, <span class="st">"Random Forest"</span> <span class="ot">=</span> <span class="st">"#27AE60"</span>)) <span class="sc">+</span></span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"RMSE Comparison Across All Models"</span>,</span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Lower is better; white diamonds show means"</span>,</span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"RMSE (grams)"</span>, <span class="at">fill =</span> <span class="st">"Model Type"</span>) <span class="sc">+</span></span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a><span class="co"># R² comparison</span></span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_cv_results, <span class="fu">aes</span>(<span class="at">x =</span> Model, <span class="at">y =</span> Rsquared, <span class="at">fill =</span> Model_Type)) <span class="sc">+</span></span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">shape =</span> <span class="dv">23</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">fill =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb70-28"><a href="#cb70-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#E74C3C"</span>, <span class="st">"Random Forest"</span> <span class="ot">=</span> <span class="st">"#27AE60"</span>)) <span class="sc">+</span></span>
<span id="cb70-29"><a href="#cb70-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"R² Comparison Across All Models"</span>,</span>
<span id="cb70-30"><a href="#cb70-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Higher is better; white diamonds show means"</span>,</span>
<span id="cb70-31"><a href="#cb70-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"R-squared"</span>, <span class="at">fill =</span> <span class="st">"Model Type"</span>) <span class="sc">+</span></span>
<span id="cb70-32"><a href="#cb70-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb70-33"><a href="#cb70-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-34"><a href="#cb70-34" aria-hidden="true" tabindex="-1"></a>performance_viz <span class="ot">&lt;-</span> p1 <span class="sc">/</span> p2</span>
<span id="cb70-35"><a href="#cb70-35" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(performance_viz)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="final-performance-comparison.png" class="img-fluid figure-img"></p>
<figcaption>Comprehensive performance comparison showing RMSE and R² distributions across all models</figcaption>
</figure>
</div>
</section>
</section>
<section id="feature-importance-analysis" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Feature Importance Analysis</h1>
<section id="random-forest-variable-importance" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="random-forest-variable-importance"><span class="header-section-number">5.1</span> Random Forest Variable Importance</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract variable importance from best RF model</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>best_rf_model <span class="ot">&lt;-</span> all_models[[top_rf<span class="sc">$</span>Model]]</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable importance plot (requires vip package)</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">requireNamespace</span>(<span class="st">"vip"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  rf_importance <span class="ot">&lt;-</span> vip<span class="sc">::</span><span class="fu">vip</span>(best_rf_model, <span class="at">num_features =</span> <span class="dv">10</span>)</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(rf_importance)</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"⚠️ vip package not available for importance plots</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⚠️ vip package not available for importance plots</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get importance scores</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>importance_scores <span class="ot">&lt;-</span> <span class="fu">varImp</span>(best_rf_model)<span class="sc">$</span>importance <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"Variable"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Overall)) <span class="sc">%&gt;%</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Scaled_Importance =</span> Overall <span class="sc">/</span> <span class="fu">max</span>(Overall) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">factor</span>(Variable, <span class="at">levels =</span> Variable)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(importance_scores, </span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Random Forest Variable Importance Rankings"</span>,</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Variable"</span>, <span class="st">"Importance"</span>, <span class="st">"Scaled (%)"</span>),</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">digits =</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Random Forest Variable Importance Rankings</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: right;">Importance</th>
<th style="text-align: right;">Scaled (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sexmale</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: right;">100.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">60.6</td>
<td style="text-align: right;">60.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">flipper_length_mm</td>
<td style="text-align: right;">53.9</td>
<td style="text-align: right;">53.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">bill_depth_mm</td>
<td style="text-align: right;">50.4</td>
<td style="text-align: right;">50.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_mm</td>
<td style="text-align: right;">31.5</td>
<td style="text-align: right;">31.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">islandDream</td>
<td style="text-align: right;">20.2</td>
<td style="text-align: right;">20.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">20.0</td>
<td style="text-align: right;">20.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">islandTorgersen</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="linear-model-coefficient-comparison" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="linear-model-coefficient-comparison"><span class="header-section-number">5.2</span> Linear Model Coefficient Comparison</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coefficients from best linear model</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>best_linear_model <span class="ot">&lt;-</span> all_models[[top_linear<span class="sc">$</span>Model]]</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>linear_coefs <span class="ot">&lt;-</span> <span class="fu">tidy</span>(best_linear_model<span class="sc">$</span>finalModel) <span class="sc">%&gt;%</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_estimate =</span> <span class="fu">abs</span>(estimate),</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">term_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>      term <span class="sc">==</span> <span class="st">"bill_length_mm"</span> <span class="sc">~</span> <span class="st">"Bill Length"</span>,</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>      term <span class="sc">==</span> <span class="st">"bill_depth_mm"</span> <span class="sc">~</span> <span class="st">"Bill Depth"</span>,</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>      term <span class="sc">==</span> <span class="st">"flipper_length_mm"</span> <span class="sc">~</span> <span class="st">"Flipper Length"</span>,</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>      term <span class="sc">==</span> <span class="st">"speciesChinstrap"</span> <span class="sc">~</span> <span class="st">"Species: Chinstrap"</span>,</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>      term <span class="sc">==</span> <span class="st">"speciesGentoo"</span> <span class="sc">~</span> <span class="st">"Species: Gentoo"</span>,</span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> term</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(abs_estimate))</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(linear_coefs <span class="sc">%&gt;%</span> <span class="fu">select</span>(term_clean, estimate, std.error, p.value),</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Linear Model Coefficients (Best Model)"</span>,</span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Variable"</span>, <span class="st">"Coefficient"</span>, <span class="st">"Std Error"</span>, <span class="st">"p-value"</span>),</span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Linear Model Coefficients (Best Model)</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: right;">Coefficient</th>
<th style="text-align: right;">Std Error</th>
<th style="text-align: right;">p-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>poly(bill_depth_mm, 2)1</code></td>
<td style="text-align: right;">5764.011</td>
<td style="text-align: right;">769.853</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>poly(flipper_length_mm, 2)1</code></td>
<td style="text-align: right;">5321.734</td>
<td style="text-align: right;">859.974</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>poly(bill_length_mm, 2)1</code></td>
<td style="text-align: right;">3753.509</td>
<td style="text-align: right;">726.718</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Species: Gentoo</td>
<td style="text-align: right;">1028.959</td>
<td style="text-align: right;">161.740</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>poly(bill_length_mm, 2)2</code></td>
<td style="text-align: right;">-856.402</td>
<td style="text-align: right;">345.087</td>
<td style="text-align: right;">0.014</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>poly(bill_depth_mm, 2)2</code></td>
<td style="text-align: right;">-842.970</td>
<td style="text-align: right;">404.234</td>
<td style="text-align: right;">0.038</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Species: Chinstrap</td>
<td style="text-align: right;">-470.967</td>
<td style="text-align: right;">84.009</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>poly(flipper_length_mm, 2)2</code></td>
<td style="text-align: right;">391.414</td>
<td style="text-align: right;">407.105</td>
<td style="text-align: right;">0.337</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="feature-importance-comparison" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="feature-importance-comparison"><span class="header-section-number">5.3</span> Feature Importance Comparison</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create side-by-side importance comparison</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalize both importance measures for comparison</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>rf_imp_norm <span class="ot">&lt;-</span> importance_scores <span class="sc">%&gt;%</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Variable, <span class="at">Importance =</span> Scaled_Importance) <span class="sc">%&gt;%</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"Random Forest"</span>)</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>linear_imp_norm <span class="ot">&lt;-</span> linear_coefs <span class="sc">%&gt;%</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Variable =</span> term_clean, <span class="at">Importance =</span> abs_estimate) <span class="sc">%&gt;%</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Importance =</span> Importance <span class="sc">/</span> <span class="fu">max</span>(Importance) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="st">"Linear Model"</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine for visualization</span></span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>combined_importance <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(rf_imp_norm, linear_imp_norm) <span class="sc">%&gt;%</span></span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Variable <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Bill Length"</span>, <span class="st">"Bill Depth"</span>, <span class="st">"Flipper Length"</span>, </span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"Species: Chinstrap"</span>, <span class="st">"Species: Gentoo"</span>))</span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined_importance, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Variable, Importance), <span class="at">y =</span> Importance, <span class="at">fill =</span> Model)) <span class="sc">+</span></span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear Model"</span> <span class="ot">=</span> <span class="st">"#E74C3C"</span>, <span class="st">"Random Forest"</span> <span class="ot">=</span> <span class="st">"#27AE60"</span>)) <span class="sc">+</span></span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Feature Importance Comparison"</span>,</span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Normalized importance scores (0-100%)"</span>,</span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Variables"</span>, <span class="at">y =</span> <span class="st">"Relative Importance (%)"</span>,</span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Model Type"</span>) <span class="sc">+</span></span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="feature-importance-comparison.png" class="img-fluid figure-img"></p>
<figcaption>Feature importance comparison between linear models and random forests</figcaption>
</figure>
</div>
</section>
</section>
<section id="partial-dependence-analysis" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Partial Dependence Analysis</h1>
<section id="understanding-non-linear-relationships" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="understanding-non-linear-relationships"><span class="header-section-number">6.1</span> Understanding Non-linear Relationships</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create partial dependence plots for key variables (requires pdp package)</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">requireNamespace</span>(<span class="st">"pdp"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Flipper length</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  pdp_flipper <span class="ot">&lt;-</span> pdp<span class="sc">::</span><span class="fu">partial</span>(best_rf_model<span class="sc">$</span>finalModel, <span class="at">pred.var =</span> <span class="st">"flipper_length_mm"</span>, </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">train =</span> penguins_clean)</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pdp_flipper, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> yhat)) <span class="sc">+</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#27AE60"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Partial Dependence: Flipper Length"</span>,</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="st">"Random Forest - marginal effect on body mass"</span>,</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Flipper Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Predicted Body Mass (g)"</span>) <span class="sc">+</span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Bill length</span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a>  pdp_bill <span class="ot">&lt;-</span> pdp<span class="sc">::</span><span class="fu">partial</span>(best_rf_model<span class="sc">$</span>finalModel, <span class="at">pred.var =</span> <span class="st">"bill_length_mm"</span>,</span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">train =</span> penguins_clean)</span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a>  p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pdp_bill, <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> yhat)) <span class="sc">+</span></span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#27AE60"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Partial Dependence: Bill Length"</span>, </span>
<span id="cb76-21"><a href="#cb76-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="st">"Random Forest - marginal effect on body mass"</span>,</span>
<span id="cb76-22"><a href="#cb76-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Bill Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Predicted Body Mass (g)"</span>) <span class="sc">+</span></span>
<span id="cb76-23"><a href="#cb76-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb76-24"><a href="#cb76-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-25"><a href="#cb76-25" aria-hidden="true" tabindex="-1"></a>  pdp_plots <span class="ot">&lt;-</span> p3 <span class="sc">+</span> p4</span>
<span id="cb76-26"><a href="#cb76-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(pdp_plots)</span>
<span id="cb76-27"><a href="#cb76-27" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb76-28"><a href="#cb76-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"⚠️ pdp package not available for partial dependence plots</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb76-29"><a href="#cb76-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Install with: install.packages('pdp')</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb76-30"><a href="#cb76-30" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⚠️ pdp package not available for partial dependence plots
Install with: install.packages('pdp')</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="partial-dependence-plots.png" class="img-fluid figure-img"></p>
<figcaption>Partial dependence plots showing how random forest predictions change with individual features</figcaption>
</figure>
</div>
</section>
<section id="interaction-effects" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="interaction-effects"><span class="header-section-number">6.2</span> Interaction Effects</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Two-way partial dependence plot (requires pdp package)</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">requireNamespace</span>(<span class="st">"pdp"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  pdp_interaction <span class="ot">&lt;-</span> pdp<span class="sc">::</span><span class="fu">partial</span>(best_rf_model<span class="sc">$</span>finalModel, </span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">pred.var =</span> <span class="fu">c</span>(<span class="st">"flipper_length_mm"</span>, <span class="st">"species"</span>),</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">train =</span> penguins_clean)</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(pdp_interaction, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> yhat, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> penguin_colors) <span class="sc">+</span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Partial Dependence: Flipper Length × Species"</span>,</span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Random Forest - interaction effects"</span>,</span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Flipper Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Predicted Body Mass (g)"</span>,</span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Species"</span>) <span class="sc">+</span></span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"⚠️ pdp package not available for interaction plots</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⚠️ pdp package not available for interaction plots</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="interaction-effects.png" class="img-fluid figure-img"></p>
<figcaption>Interaction plot showing how species moderates the flipper length effect in random forests</figcaption>
</figure>
</div>
</section>
</section>
<section id="the-interpretability-performance-tradeoff" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> The Interpretability-Performance Tradeoff</h1>
<section id="quantifying-the-tradeoff" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="quantifying-the-tradeoff"><span class="header-section-number">7.1</span> Quantifying the Tradeoff</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate performance vs interpretability metrics</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>interpretability_analysis <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Model =</span> <span class="fu">c</span>(<span class="st">"Linear: Species"</span>, <span class="st">"RF: Tuned"</span>),</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">RMSE =</span> <span class="fu">c</span>(top_linear<span class="sc">$</span>RMSE_mean, top_rf<span class="sc">$</span>RMSE_mean),</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">R_squared =</span> <span class="fu">c</span>(top_linear<span class="sc">$</span>Rsquared_mean, top_rf<span class="sc">$</span>Rsquared_mean),</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Interpretability_Score =</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">4</span>),  <span class="co"># Subjective 1-10 scale</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Complexity =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">500</span>),  <span class="co"># Number of parameters/trees</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Training_Time =</span> <span class="fu">c</span>(<span class="st">"&lt; 1 sec"</span>, <span class="st">"~ 10 sec"</span>),  <span class="co"># Approximate</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Prediction_Speed =</span> <span class="fu">c</span>(<span class="st">"Instant"</span>, <span class="st">"Fast"</span>),</span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Coefficient_Interpretation =</span> <span class="fu">c</span>(<span class="st">"Direct"</span>, <span class="st">"Requires tools"</span>),</span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Statistical_Tests =</span> <span class="fu">c</span>(<span class="st">"Standard"</span>, <span class="st">"Limited"</span>),</span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Confidence_Intervals =</span> <span class="fu">c</span>(<span class="st">"Standard"</span>, <span class="st">"Bootstrap"</span>)</span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Performance_Gain =</span> RMSE[<span class="dv">1</span>] <span class="sc">-</span> RMSE,</span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">Interpretability_Loss =</span> Interpretability_Score[<span class="dv">1</span>] <span class="sc">-</span> Interpretability_Score</span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(interpretability_analysis <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>Performance_Gain, <span class="sc">-</span>Interpretability_Loss),</span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Interpretability vs Performance Comparison"</span>,</span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Interpretability vs Performance Comparison</caption>
<colgroup>
<col style="width: 9%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 13%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 16%">
<col style="width: 10%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">RMSE</th>
<th style="text-align: right;">R_squared</th>
<th style="text-align: right;">Interpretability_Score</th>
<th style="text-align: right;">Complexity</th>
<th style="text-align: left;">Training_Time</th>
<th style="text-align: left;">Prediction_Speed</th>
<th style="text-align: left;">Coefficient_Interpretation</th>
<th style="text-align: left;">Statistical_Tests</th>
<th style="text-align: left;">Confidence_Intervals</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Linear: Species</td>
<td style="text-align: right;">310.295</td>
<td style="text-align: right;">0.858</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">&lt; 1 sec</td>
<td style="text-align: left;">Instant</td>
<td style="text-align: left;">Direct</td>
<td style="text-align: left;">Standard</td>
<td style="text-align: left;">Standard</td>
</tr>
<tr class="even">
<td style="text-align: left;">RF: Tuned</td>
<td style="text-align: right;">294.920</td>
<td style="text-align: right;">0.866</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">500</td>
<td style="text-align: left;">~ 10 sec</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: left;">Requires tools</td>
<td style="text-align: left;">Limited</td>
<td style="text-align: left;">Bootstrap</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">--- Tradeoff Analysis ---</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
--- Tradeoff Analysis ---</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=====================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=====================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Performance gain (RF vs Linear): %.1f grams RMSE improvement</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>            interpretability_analysis<span class="sc">$</span>Performance_Gain[<span class="dv">2</span>]))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Performance gain (RF vs Linear): 15.4 grams RMSE improvement</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Interpretability loss: %d points (out of 10)</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>            interpretability_analysis<span class="sc">$</span>Interpretability_Loss[<span class="dv">2</span>]))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Interpretability loss: 5 points (out of 10)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Relative performance improvement: %.1f%%</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>            (interpretability_analysis<span class="sc">$</span>Performance_Gain[<span class="dv">2</span>] <span class="sc">/</span> interpretability_analysis<span class="sc">$</span>RMSE[<span class="dv">1</span>]) <span class="sc">*</span> <span class="dv">100</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Relative performance improvement: 5.0%</code></pre>
</div>
</div>
</section>
<section id="decision-framework-visualization" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="decision-framework-visualization"><span class="header-section-number">7.2</span> Decision Framework Visualization</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create decision framework plot</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>decision_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Model =</span> <span class="fu">c</span>(<span class="st">"Simple Linear"</span>, <span class="st">"Multiple Linear"</span>, <span class="st">"Species Linear"</span>, <span class="st">"Polynomial"</span>, <span class="st">"Basic RF"</span>, <span class="st">"Full RF"</span>, <span class="st">"Tuned RF"</span>),</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Performance =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="fl">9.2</span>, <span class="fl">8.5</span>, <span class="fl">9.5</span>, <span class="fl">9.7</span>),  <span class="co"># Scaled performance score</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Interpretability =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">3</span>),</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Type =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Linear"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"Random Forest"</span>, <span class="dv">3</span>)),</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">RMSE =</span> performance_comparison<span class="sc">$</span>RMSE_mean[<span class="fu">match</span>(<span class="fu">c</span>(<span class="st">"Linear: Simple"</span>, <span class="st">"Linear: Multiple"</span>, <span class="st">"Linear: Species"</span>, <span class="st">"Linear: Polynomial"</span>, </span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>                                                 <span class="st">"RF: Basic"</span>, <span class="st">"RF: Full"</span>, <span class="st">"RF: Tuned"</span>), performance_comparison<span class="sc">$</span>Model)]</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(decision_data, <span class="fu">aes</span>(<span class="at">x =</span> Interpretability, <span class="at">y =</span> Performance, <span class="at">color =</span> Type, <span class="at">size =</span> <span class="dv">1</span><span class="sc">/</span>RMSE)) <span class="sc">+</span></span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Model), <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Linear"</span> <span class="ot">=</span> <span class="st">"#E74C3C"</span>, <span class="st">"Random Forest"</span> <span class="ot">=</span> <span class="st">"#27AE60"</span>)) <span class="sc">+</span></span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>), <span class="at">name =</span> <span class="st">"Performance</span><span class="sc">\n</span><span class="st">(1/RMSE)"</span>) <span class="sc">+</span></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Model Selection Framework"</span>,</span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Performance vs Interpretability Tradeoff"</span>,</span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Interpretability Score (1-10)"</span>, <span class="at">y =</span> <span class="st">"Performance Score (1-10)"</span>,</span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Model Family"</span>) <span class="sc">+</span></span>
<span id="cb91-20"><a href="#cb91-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb91-21"><a href="#cb91-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_curve</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">8</span>, <span class="at">y =</span> <span class="dv">8</span>, <span class="at">xend =</span> <span class="dv">4</span>, <span class="at">yend =</span> <span class="fl">9.5</span>), </span>
<span id="cb91-22"><a href="#cb91-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>)),</span>
<span id="cb91-23"><a href="#cb91-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">curvature =</span> <span class="fl">0.3</span>, <span class="at">color =</span> <span class="st">"gray50"</span>, </span>
<span id="cb91-24"><a href="#cb91-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb91-25"><a href="#cb91-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">6</span>, <span class="at">y =</span> <span class="dv">9</span>, <span class="at">label =</span> <span class="st">"Interpretability-</span><span class="sc">\n</span><span class="st">Performance</span><span class="sc">\n</span><span class="st">Tradeoff"</span>, </span>
<span id="cb91-26"><a href="#cb91-26" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"gray50"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="decision-framework.png" class="img-fluid figure-img"></p>
<figcaption>Decision framework plot showing the interpretability vs performance tradeoff across all models</figcaption>
</figure>
</div>
</section>
</section>
<section id="model-selection-guidelines" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Model Selection Guidelines</h1>
<section id="when-to-choose-linear-models" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="when-to-choose-linear-models"><span class="header-section-number">8.1</span> When to Choose Linear Models</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== Choose Linear Models When ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== Choose Linear Models When ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=============================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=============================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Interpretability is paramount (research, regulation, clinical)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Interpretability is paramount (research, regulation, clinical)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Sample size is small-to-medium (&lt; 1000 observations)</span><span class="sc">\n</span><span class="st">"</span>) </span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Sample size is small-to-medium (&lt; 1000 observations)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Relationships are approximately linear</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Relationships are approximately linear</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* You need statistical inference (p-values, confidence intervals)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* You need statistical inference (p-values, confidence intervals)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Stakeholders need to understand 'how' the model works</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Stakeholders need to understand 'how' the model works</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Model transparency is required for trust/acceptance</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Model transparency is required for trust/acceptance</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Simple relationships exist between predictors and outcome</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Simple relationships exist between predictors and outcome</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Computational resources are limited</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Computational resources are limited</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== Best Linear Model for Penguins ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== Best Linear Model for Penguins ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"===================================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>===================================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Model: body_mass_g ~ bill_length_mm + bill_depth_mm + flipper_length_mm + species</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Model: body_mass_g ~ bill_length_mm + bill_depth_mm + flipper_length_mm + species</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Performance: RMSE = %.1f g, R-squared = %.3f</span><span class="sc">\n</span><span class="st">"</span>, top_linear<span class="sc">$</span>RMSE_mean, top_linear<span class="sc">$</span>Rsquared_mean))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Performance: RMSE = 310.3 g, R-squared = 0.858</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Advantages: Direct coefficient interpretation, statistical tests, fast</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Advantages: Direct coefficient interpretation, statistical tests, fast</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Use case: Scientific research, educational contexts, regulatory submission</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Use case: Scientific research, educational contexts, regulatory submission</code></pre>
</div>
</div>
</section>
<section id="when-to-choose-random-forests" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="when-to-choose-random-forests"><span class="header-section-number">8.2</span> When to Choose Random Forests</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== Choose Random Forests When ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== Choose Random Forests When ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"==============================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>==============================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Predictive accuracy is the primary goal</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Predictive accuracy is the primary goal</code></pre>
</div>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Complex non-linear relationships exist</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Complex non-linear relationships exist</code></pre>
</div>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Large datasets with many features</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Large datasets with many features</code></pre>
</div>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Interaction effects are important but unknown</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Interaction effects are important but unknown</code></pre>
</div>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Robustness to outliers is needed</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Robustness to outliers is needed</code></pre>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Mixed data types (continuous, categorical)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Mixed data types (continuous, categorical)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Feature selection is challenging</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Feature selection is challenging</code></pre>
</div>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"* Black-box predictions are acceptable</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Black-box predictions are acceptable</code></pre>
</div>
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== Best Random Forest for Penguins ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== Best Random Forest for Penguins ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"====================================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>====================================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Model: All morphometric + demographic variables, mtry optimized</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Model: All morphometric + demographic variables, mtry optimized</code></pre>
</div>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"Performance: RMSE = %.1f g, R-squared = %.3f</span><span class="sc">\n</span><span class="st">"</span>, top_rf<span class="sc">$</span>RMSE_mean, top_rf<span class="sc">$</span>Rsquared_mean))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Performance: RMSE = 294.9 g, R-squared = 0.866</code></pre>
</div>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Advantages: Highest accuracy, handles interactions, robust</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Advantages: Highest accuracy, handles interactions, robust</code></pre>
</div>
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Use case: Prediction systems, decision support, exploratory analysis</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Use case: Prediction systems, decision support, exploratory analysis</code></pre>
</div>
</div>
</section>
</section>
<section id="practical-recommendations-for-ecological-research" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Practical Recommendations for Ecological Research</h1>
<section id="hybrid-approach" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="hybrid-approach"><span class="header-section-number">9.1</span> Hybrid Approach</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">🔬 Recommended Hybrid Strategy:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
🔬 Recommended Hybrid Strategy:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"===============================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>===============================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"1. START with linear models for understanding</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1. START with linear models for understanding</code></pre>
</div>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • Identify key relationships</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • Identify key relationships</code></pre>
</div>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • Test biological hypotheses</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • Test biological hypotheses</code></pre>
</div>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • Establish baseline performance</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • Establish baseline performance</code></pre>
</div>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">2. USE random forests for prediction</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
2. USE random forests for prediction</code></pre>
</div>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • When accuracy is critical</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • When accuracy is critical</code></pre>
</div>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • For complex ecological systems</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • For complex ecological systems</code></pre>
</div>
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • When many predictors available</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • When many predictors available</code></pre>
</div>
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">3. COMBINE insights from both</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
3. COMBINE insights from both</code></pre>
</div>
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • Linear models for explanation</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • Linear models for explanation</code></pre>
</div>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • Random forests for prediction</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • Random forests for prediction</code></pre>
</div>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"   • Cross-validate findings</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   • Cross-validate findings</code></pre>
</div>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">📋 Reporting Best Practices:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
📋 Reporting Best Practices:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"============================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>============================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Always report model selection rationale</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Always report model selection rationale</code></pre>
</div>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Include performance comparison tables</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Include performance comparison tables</code></pre>
</div>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Discuss interpretability tradeoffs</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Discuss interpretability tradeoffs</code></pre>
</div>
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Provide uncertainty estimates</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Provide uncertainty estimates</code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Consider ecological meaning of results</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Consider ecological meaning of results</code></pre>
</div>
</div>
</section>
<section id="context-specific-guidance" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="context-specific-guidance"><span class="header-section-number">9.2</span> Context-Specific Guidance</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create context-specific recommendations table</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a>context_guidance <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Research_Context =</span> <span class="fu">c</span>(</span>
<span id="cb198-4"><a href="#cb198-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Basic Ecological Research"</span>,</span>
<span id="cb198-5"><a href="#cb198-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Conservation Planning"</span>, </span>
<span id="cb198-6"><a href="#cb198-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Predictive Monitoring"</span>,</span>
<span id="cb198-7"><a href="#cb198-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Climate Change Studies"</span>,</span>
<span id="cb198-8"><a href="#cb198-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Fisheries Management"</span>,</span>
<span id="cb198-9"><a href="#cb198-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Educational/Teaching"</span></span>
<span id="cb198-10"><a href="#cb198-10" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb198-11"><a href="#cb198-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Recommended_Approach =</span> <span class="fu">c</span>(</span>
<span id="cb198-12"><a href="#cb198-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Linear Models"</span>,</span>
<span id="cb198-13"><a href="#cb198-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hybrid (Linear + RF)"</span>,</span>
<span id="cb198-14"><a href="#cb198-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Random Forests"</span>,</span>
<span id="cb198-15"><a href="#cb198-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hybrid (Linear + RF)"</span>, </span>
<span id="cb198-16"><a href="#cb198-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Random Forests"</span>,</span>
<span id="cb198-17"><a href="#cb198-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Linear Models"</span></span>
<span id="cb198-18"><a href="#cb198-18" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb198-19"><a href="#cb198-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">Primary_Reason =</span> <span class="fu">c</span>(</span>
<span id="cb198-20"><a href="#cb198-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Interpretability &amp; hypothesis testing"</span>,</span>
<span id="cb198-21"><a href="#cb198-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Balance of understanding &amp; accuracy"</span>,</span>
<span id="cb198-22"><a href="#cb198-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Maximum predictive accuracy"</span>,</span>
<span id="cb198-23"><a href="#cb198-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Complex interactions &amp; accuracy"</span>,</span>
<span id="cb198-24"><a href="#cb198-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Accurate forecasts for decisions"</span>,</span>
<span id="cb198-25"><a href="#cb198-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Clear, understandable relationships"</span></span>
<span id="cb198-26"><a href="#cb198-26" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb198-27"><a href="#cb198-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">Secondary_Benefits =</span> <span class="fu">c</span>(</span>
<span id="cb198-28"><a href="#cb198-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Statistical inference available"</span>,</span>
<span id="cb198-29"><a href="#cb198-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Stakeholder communication"</span>,</span>
<span id="cb198-30"><a href="#cb198-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Handles complex interactions"</span>,</span>
<span id="cb198-31"><a href="#cb198-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Robust to non-linearities"</span>,</span>
<span id="cb198-32"><a href="#cb198-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Real-time prediction capability"</span>,</span>
<span id="cb198-33"><a href="#cb198-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Easy to explain and implement"</span></span>
<span id="cb198-34"><a href="#cb198-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb198-35"><a href="#cb198-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb198-36"><a href="#cb198-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-37"><a href="#cb198-37" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(context_guidance,</span>
<span id="cb198-38"><a href="#cb198-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Model Selection Guidelines by Research Context"</span>,</span>
<span id="cb198-39"><a href="#cb198-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Research Context"</span>, <span class="st">"Recommended Approach"</span>, </span>
<span id="cb198-40"><a href="#cb198-40" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Primary Reason"</span>, <span class="st">"Secondary Benefits"</span>))</span></code></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Model Selection Guidelines by Research Context</caption>
<colgroup>
<col style="width: 22%">
<col style="width: 17%">
<col style="width: 32%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Research Context</th>
<th style="text-align: left;">Recommended Approach</th>
<th style="text-align: left;">Primary Reason</th>
<th style="text-align: left;">Secondary Benefits</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Basic Ecological Research</td>
<td style="text-align: left;">Linear Models</td>
<td style="text-align: left;">Interpretability &amp; hypothesis testing</td>
<td style="text-align: left;">Statistical inference available</td>
</tr>
<tr class="even">
<td style="text-align: left;">Conservation Planning</td>
<td style="text-align: left;">Hybrid (Linear + RF)</td>
<td style="text-align: left;">Balance of understanding &amp; accuracy</td>
<td style="text-align: left;">Stakeholder communication</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Predictive Monitoring</td>
<td style="text-align: left;">Random Forests</td>
<td style="text-align: left;">Maximum predictive accuracy</td>
<td style="text-align: left;">Handles complex interactions</td>
</tr>
<tr class="even">
<td style="text-align: left;">Climate Change Studies</td>
<td style="text-align: left;">Hybrid (Linear + RF)</td>
<td style="text-align: left;">Complex interactions &amp; accuracy</td>
<td style="text-align: left;">Robust to non-linearities</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fisheries Management</td>
<td style="text-align: left;">Random Forests</td>
<td style="text-align: left;">Accurate forecasts for decisions</td>
<td style="text-align: left;">Real-time prediction capability</td>
</tr>
<tr class="even">
<td style="text-align: left;">Educational/Teaching</td>
<td style="text-align: left;">Linear Models</td>
<td style="text-align: left;">Clear, understandable relationships</td>
<td style="text-align: left;">Easy to explain and implement</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="series-conclusion" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> Series Conclusion</h1>
<section id="our-journey-summary" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="our-journey-summary"><span class="header-section-number">10.1</span> Our Journey Summary</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"🐧 Palmer Penguins Analysis Series - Complete Journey:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>🐧 Palmer Penguins Analysis Series - Complete Journey:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"======================================================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Part 1: Exploratory Analysis → Found flipper length as key predictor (R² = 0.759)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Part 1: Exploratory Analysis → Found flipper length as key predictor (R² = 0.759)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Part 2: Multiple Regression → Added species for major improvement (R² = 0.863)</span><span class="sc">\n</span><span class="st">"</span>) </span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Part 2: Multiple Regression → Added species for major improvement (R² = 0.863)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Part 3: Advanced Methods → Validated with cross-validation, explored polynomials</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Part 3: Advanced Methods → Validated with cross-validation, explored polynomials</code></pre>
</div>
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Part 4: Model Diagnostics → Confirmed assumptions, ensured statistical soundness</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Part 4: Model Diagnostics → Confirmed assumptions, ensured statistical soundness</code></pre>
</div>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Part 5: Final Comparison → Linear vs RF tradeoff analysis (RF: R² = 0.887)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Part 5: Final Comparison → Linear vs RF tradeoff analysis (RF: R² = 0.887)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">🏆 Final Recommendations:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
🏆 Final Recommendations:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=========================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=========================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"For Palmer Penguins Research:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>For Palmer Penguins Research:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Primary Model: Linear with species (interpretable, 86.3% variance explained)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Primary Model: Linear with species (interpretable, 86.3% variance explained)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Alternative Model: Tuned Random Forest (highest accuracy, 88.7% variance)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Alternative Model: Tuned Random Forest (highest accuracy, 88.7% variance)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Performance Gap: 2.4% R² improvement for RF vs 5-point interpretability loss</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Performance Gap: 2.4% R² improvement for RF vs 5-point interpretability loss</code></pre>
</div>
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Recommendation: Use linear model unless &lt;10g prediction error is critical</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Recommendation: Use linear model unless &lt;10g prediction error is critical</code></pre>
</div>
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">📊 Key Biological Insights:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
📊 Key Biological Insights:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"===========================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>===========================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Flipper length is the strongest morphometric predictor across all models</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Flipper length is the strongest morphometric predictor across all models</code></pre>
</div>
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Species differences are substantial (Gentoo ~1380g heavier than Adelie)</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Species differences are substantial (Gentoo ~1380g heavier than Adelie)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Morphometric relationships are consistent across species</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Morphometric relationships are consistent across species</code></pre>
</div>
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Non-linear effects provide minimal improvement over linear relationships</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Non-linear effects provide minimal improvement over linear relationships</code></pre>
</div>
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Random forests confirm the importance hierarchy found in linear models</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Random forests confirm the importance hierarchy found in linear models</code></pre>
</div>
</div>
</section>
<section id="methodological-contributions" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="methodological-contributions"><span class="header-section-number">10.2</span> Methodological Contributions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">🔬 Methodological Lessons Learned:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
🔬 Methodological Lessons Learned:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"==================================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>==================================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"1. Linear models with biological context often perform excellently</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1. Linear models with biological context often perform excellently</code></pre>
</div>
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"2. Cross-validation is essential for honest performance assessment</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2. Cross-validation is essential for honest performance assessment</code></pre>
</div>
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"3. Diagnostic procedures confirm model appropriateness beyond performance</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3. Diagnostic procedures confirm model appropriateness beyond performance</code></pre>
</div>
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"4. Feature importance rankings are consistent across model types</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>4. Feature importance rankings are consistent across model types</code></pre>
</div>
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"5. The interpretability-performance tradeoff requires context-specific decisions</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>5. The interpretability-performance tradeoff requires context-specific decisions</code></pre>
</div>
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">📚 Transferable Skills Developed:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
📚 Transferable Skills Developed:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=================================</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=================================</code></pre>
</div>
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Systematic model comparison methodology</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Systematic model comparison methodology</code></pre>
</div>
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Rigorous cross-validation procedures</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Rigorous cross-validation procedures</code></pre>
</div>
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Comprehensive diagnostic workflows</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Comprehensive diagnostic workflows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Interpretability vs performance evaluation</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Interpretability vs performance evaluation</code></pre>
</div>
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Scientific communication of model choices</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Scientific communication of model choices</code></pre>
</div>
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"• Integration of statistical and biological knowledge</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>• Integration of statistical and biological knowledge</code></pre>
</div>
</div>
</section>
</section>
<section id="final-thoughts" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Final Thoughts</h1>
<p>As we close this comprehensive series, remember that the “best” model isn’t always the one with the lowest RMSE. In ecological research, we must balance predictive performance with interpretability, statistical rigor with practical applicability, and technical sophistication with clear communication.</p>
<p>Our Palmer penguins have taught us that sometimes the most elegant solution - a linear model with thoughtfully chosen predictors - can compete admirably with sophisticated machine learning algorithms while maintaining the transparency that science demands.</p>
<p>The 24-gram RMSE difference between our linear model and random forest represents just 0.6% of average penguin body mass. In most ecological contexts, this small improvement doesn’t justify the loss of interpretability. However, in conservation applications where every gram matters for survival predictions, the random forest’s superior accuracy might tip the scales.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🎯 Final Recommendation
</div>
</div>
<div class="callout-body-container callout-body">
<p>For the Palmer penguins dataset and similar ecological morphometric studies:</p>
<p><strong>Primary Model</strong>: Linear regression with species information - Excellent performance (86.3% variance explained) - Full interpretability and statistical inference - Computationally efficient - Scientifically transparent</p>
<p><strong>Alternative Model</strong>: Tuned random forest when prediction accuracy is critical - Maximum performance (88.7% variance explained)<br>
- Robust to complex interactions - Suitable for operational prediction systems</p>
</div>
</div>
<p>Thank you for joining this analytical journey. May your future models be both accurate and interpretable, and may your penguins always be perfectly predictable! 🐧</p>
</section>
<section id="reproducibility-information" class="level1" data-number="12">
<h1 data-number="12"><span class="header-section-number">12</span> Reproducibility Information</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.5.0 (2025-04-11)
Platform: aarch64-apple-darwin20
Running under: macOS Sequoia 15.5

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: America/Los_Angeles
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] patchwork_1.3.1      knitr_1.50           broom_1.0.8         
 [4] caret_7.0-1          lattice_0.22-6       randomForest_4.7-1.2
 [7] lubridate_1.9.4      forcats_1.0.0        stringr_1.5.1       
[10] dplyr_1.1.4          purrr_1.0.4          readr_2.1.5         
[13] tidyr_1.3.1          tibble_3.3.0         ggplot2_3.5.2       
[16] tidyverse_2.0.0      palmerpenguins_0.1.1

loaded via a namespace (and not attached):
 [1] gtable_0.3.6         xfun_0.52            htmlwidgets_1.6.4   
 [4] recipes_1.3.1        tzdb_0.5.0           vctrs_0.6.5         
 [7] tools_4.5.0          generics_0.1.4       stats4_4.5.0        
[10] parallel_4.5.0       ModelMetrics_1.2.2.2 pkgconfig_2.0.3     
[13] Matrix_1.7-3         data.table_1.17.4    RColorBrewer_1.1-3  
[16] lifecycle_1.0.4      compiler_4.5.0       farver_2.1.2        
[19] codetools_0.2-20     htmltools_0.5.8.1    class_7.3-23        
[22] yaml_2.3.10          prodlim_2025.04.28   pillar_1.10.2       
[25] MASS_7.3-65          gower_1.0.2          iterators_1.0.14    
[28] rpart_4.1.24         foreach_1.5.2        nlme_3.1-168        
[31] parallelly_1.45.0    lava_1.8.1           tidyselect_1.2.1    
[34] digest_0.6.37        stringi_1.8.7        future_1.58.0       
[37] reshape2_1.4.4       listenv_0.9.1        labeling_0.4.3      
[40] splines_4.5.0        fastmap_1.2.0        grid_4.5.0          
[43] cli_3.6.5            magrittr_2.0.3       survival_3.8-3      
[46] future.apply_1.20.0  withr_3.0.2          backports_1.5.0     
[49] scales_1.4.0         timechange_0.3.0     rmarkdown_2.29      
[52] globals_0.18.0       nnet_7.3-20          timeDate_4041.110   
[55] hms_1.1.3            evaluate_1.0.3       hardhat_1.4.1       
[58] rlang_1.1.6          Rcpp_1.0.14          glue_1.8.0          
[61] pROC_1.18.5          ipred_0.9-15         jsonlite_2.0.0      
[64] R6_2.6.1             plyr_1.8.9          </code></pre>
</div>
</div>
<hr>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🐧 Series Complete!
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Congratulations!</strong> You’ve completed the entire Palmer Penguins Analysis Series:</p>
<ol type="1">
<li><a href="../palmer_penguins_part1/">Part 1: EDA and Simple Regression</a> ✅</li>
<li><a href="../palmer_penguins_part2/">Part 2: Multiple Regression and Species Effects</a> ✅</li>
<li><a href="../palmer_penguins_part3/">Part 3: Advanced Models and Cross-Validation</a> ✅</li>
<li><a href="../palmer_penguins_part4/">Part 4: Model Diagnostics and Interpretation</a> ✅</li>
<li><strong>Part 5: Random Forest vs Linear Models</strong> (This post) ✅</li>
</ol>
<p><strong>What’s Next?</strong> Apply these techniques to your own datasets and share your findings with the community!</p>
</div>
</div>
<p><em>Have questions about model selection or want to discuss your own ecological modeling challenges? Feel free to reach out on <a href="https://twitter.com/yourhandle">Twitter</a> or <a href="https://linkedin.com/in/yourprofile">LinkedIn</a>. You can also find the complete code for this entire series on <a href="https://github.com/yourusername/palmer-penguins-series">GitHub</a>.</em></p>
<p><strong>About the Author:</strong> [Your name] is a [your role] specializing in statistical ecology and machine learning. This series demonstrates best practices for model selection and evaluation in biological research, emphasizing the balance between predictive performance and scientific interpretability.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{(ryy)_glenn_thomas2025,
  author = {(Ryy) Glenn Thomas, Ronald and Name, Your},
  title = {Palmer {Penguins} {Data} {Analysis} {Series} {(Part} 5):
    {Random} {Forest} Vs {Linear} {Models} - {The} {Final} {Comparison}},
  date = {2025-01-05},
  url = {https://focusonr.org/posts/palmer_penguins_part5/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-(ryy)_glenn_thomas2025" class="csl-entry quarto-appendix-citeas" role="listitem">
(Ryy) Glenn Thomas, Ronald, and Your Name. 2025. <span>“Palmer Penguins
Data Analysis Series (Part 5): Random Forest Vs Linear Models - The
Final Comparison.”</span> January 5, 2025. <a href="https://focusonr.org/posts/palmer_penguins_part5/">https://focusonr.org/posts/palmer_penguins_part5/</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/focusonr\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="rgt47/qblog" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2023-2025, Ronald G. Thomas</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/rgt47">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/rgt47">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<!-- PDF view/download button for blog posts -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Only add the button on post pages
  if (window.location.pathname.includes('/posts/') && !window.location.pathname.endsWith('/posts/') && !window.location.pathname.endsWith('/posts/index.html')) {
    var currentPath = window.location.pathname;
    var pdfPath = currentPath.replace('.html', '.pdf');

    // Check if PDF exists first
    fetch(pdfPath, { method: 'HEAD' })
      .then(function(response) {
        if (response.ok) {
          // PDF exists, show download button
          showDownloadButton(pdfPath);
        } else {
          // PDF doesn't exist, show link to generate
          showGenerateButton(currentPath);
        }
      })
      .catch(function() {
        // Error checking PDF, show generate button
        showGenerateButton(currentPath);
      });
  }
});

function showDownloadButton(pdfPath) {
  var downloadBtn = document.createElement('div');
  downloadBtn.className = 'pdf-download-button';

  // Get file size if possible
  fetch(pdfPath, { method: 'HEAD' })
    .then(function(response) {
      var size = response.headers.get('Content-Length');
      var sizeText = '';

      if (size) {
        // Convert to MB or KB
        var sizeInMB = size / (1024 * 1024);
        if (sizeInMB >= 1) {
          sizeText = ' (' + sizeInMB.toFixed(1) + ' MB)';
        } else {
          sizeText = ' (' + (size / 1024).toFixed(0) + ' KB)';
        }
      }

      downloadBtn.innerHTML =
        '<div class="alert alert-secondary d-flex align-items-center p-3" role="alert">' +
        '  <a href="' + pdfPath + '" class="btn btn-primary btn-sm me-3" target="_blank">' +
        '    <i class="bi bi-file-pdf me-1"></i> Download PDF' + sizeText +
        '  </a>' +
        '  <span class="small text-muted">View or save a printer-friendly version of this article</span>' +
        '</div>';
    })
    .catch(function() {
      // Basic fallback if we can't get file size
      downloadBtn.innerHTML =
        '<div class="alert alert-secondary d-flex align-items-center p-3" role="alert">' +
        '  <a href="' + pdfPath + '" class="btn btn-primary btn-sm me-3" target="_blank">' +
        '    <i class="bi bi-file-pdf me-1"></i> Download PDF' +
        '  </a>' +
        '  <span class="small text-muted">View or save a printer-friendly version of this article</span>' +
        '</div>';
    });

  // Find where to insert the button (right after the title block)
  var titleBlock = document.querySelector('.quarto-title-meta');
  if (titleBlock) {
    titleBlock.after(downloadBtn);
  }
}

function showGenerateButton(htmlPath) {
  var qmdPath = htmlPath.replace('/posts/', 'posts/').replace('/index.html', '/index.qmd').replace('.html', '.qmd');

  var generateBtn = document.createElement('div');
  generateBtn.className = 'pdf-download-button';
  generateBtn.innerHTML =
    '<div class="alert alert-info d-flex align-items-center p-3" role="alert">' +
    '  <div class="me-3">' +
    '    <i class="bi bi-file-pdf" style="font-size: 1.5rem;"></i>' +
    '  </div>' +
    '  <div class="flex-grow-1">' +
    '    <strong>PDF Version Available</strong><br>' +
    '    <span class="small text-muted">This article can be generated as a PDF for offline reading or printing.</span>' +
    '  </div>' +
    '  <div>' +
    '    <button class="btn btn-outline-primary btn-sm" onclick="copyGenerateCommand(\'' + qmdPath + '\')">' +
    '      <i class="bi bi-clipboard me-1"></i>Copy Command' +
    '    </button>' +
    '  </div>' +
    '</div>' +
    '<div class="collapse mt-2" id="generateInstructions">' +
    '  <div class="card card-body bg-light">' +
    '    <small>' +
    '      <strong>To generate PDF:</strong> Run this command in your terminal:<br>' +
    '      <code class="user-select-all" id="generateCommand">./generate_pdf.sh ' + qmdPath + '</code>' +
    '    </small>' +
    '  </div>' +
    '</div>';

  // Find where to insert the button (right after the title block)
  var titleBlock = document.querySelector('.quarto-title-meta');
  if (titleBlock) {
    titleBlock.after(generateBtn);
  }
}

function copyGenerateCommand(qmdPath) {
  var command = './generate_pdf.sh ' + qmdPath;
  
  // Try to copy to clipboard
  if (navigator.clipboard && window.isSecureContext) {
    navigator.clipboard.writeText(command).then(function() {
      showCopyFeedback('Command copied to clipboard!');
    }, function() {
      showGenerateInstructions();
    });
  } else {
    // Fallback: show instructions
    showGenerateInstructions();
  }
}

function showCopyFeedback(message) {
  // Show brief success message
  var btn = event.target.closest('button');
  var originalHtml = btn.innerHTML;
  btn.innerHTML = '<i class="bi bi-check me-1"></i>Copied!';
  btn.classList.remove('btn-outline-primary');
  btn.classList.add('btn-success');
  
  setTimeout(function() {
    btn.innerHTML = originalHtml;
    btn.classList.remove('btn-success');
    btn.classList.add('btn-outline-primary');
  }, 2000);
}

function showGenerateInstructions() {
  // Toggle instructions visibility
  var instructions = document.getElementById('generateInstructions');
  if (instructions) {
    instructions.classList.toggle('show');
  }
}
</script>

<style>
.pdf-download-button {
  margin-top: 1rem;
  margin-bottom: 1rem;
}
</style>




</body></html>