<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ronald G. Thomas">
<meta name="dcterms.date" content="2025-01-01">
<meta name="description" content="I didn‚Äôt really know much about [topic] until I tried to [implement/understand] it myself. Here‚Äôs what I learned along the way.">

<title>Constructing a reproducible blog post using zzcollab tools ‚Äì Thomas Lab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-cba6959027663c8af85f024d0b434422.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "?",
    "/"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400&amp;family=Open+Sans:ital,wght@0,400;0,600;1,400&amp;family=Fira+Mono:wght@400;500&amp;display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/0fba9333d8.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

<!-- Custom meta tags for social sharing -->
<meta property="og:site_name" content="Thomas Lab">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@rgt47">

<!-- Add responsive features -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- Add analytics if needed -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXX');
</script> -->

<!-- Add custom javascript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Remove code tools button completely
  const codeButton = document.querySelector('.code-tools-button');
  if (codeButton) {
    codeButton.remove();
  }
  
  // Add any custom JavaScript functionality here
  
  // Example: Add smooth scrolling
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      
      document.querySelector(this.getAttribute('href')).scrollIntoView({
        behavior: 'smooth'
      });
    });
  });
  
  // Make sidebar category items clickable (but not TOC items)
  const categoryLinks = {
    'Programming & Development': '/posts/?category=Programming+%26+Development',
    'Data Analysis & Visualization': '/posts/?category=Data+Analysis+%26+Visualization',
    'Deployment & Operations': '/posts/?category=Deployment+%26+Operations',
    'Development Environment': '/posts/?category=Development+Environment',
    'Shiny Applications': '/posts/?category=Shiny+Applications',
    'AI & Automation': '/posts/?category=AI+%26+Automation',
    'System Administration': '/posts/?category=System+Administration'
  };
  
  // Only target sidebar items that are not in the TOC
  document.querySelectorAll('.sidebar-item-section .sidebar-item-text').forEach(item => {
    // Skip if this is inside the TOC
    if (item.closest('#TOC')) return;
    
    const text = item.textContent.trim();
    if (categoryLinks[text]) {
      item.addEventListener('click', function() {
        window.location.href = categoryLinks[text];
      });
    }
  });
});
</script>


<meta property="og:title" content="Constructing a reproducible blog post using zzcollab tools ‚Äì Thomas Lab">
<meta property="og:description" content="I didn‚Äôt really know much about [topic] until I tried to [implement/understand] it myself. Here‚Äôs what I learned along the way.">
<meta property="og:image" content="https://focusonr.org/posts/templatepost/media/images/penguin-hero.jpg">
<meta property="og:site_name" content="Thomas Lab">
</head>

<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Thomas Lab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../white-papers/index.html"> 
<span class="menu-text">White Papers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/index.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching/index.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../misc/index.html"> 
<span class="menu-text">Misc</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/rgt47"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/rgt47"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a>
  <ul class="collapse">
  <li><a href="#motivations" id="toc-motivations" class="nav-link" data-scroll-target="#motivations"><span class="header-section-number">1.1</span> Motivations</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives"><span class="header-section-number">1.2</span> Objectives</a></li>
  </ul></li>
  <li><a href="#prerequisites-and-setup" id="toc-prerequisites-and-setup" class="nav-link" data-scroll-target="#prerequisites-and-setup"><span class="header-section-number">2</span> Prerequisites and Setup</a></li>
  <li><a href="#what-is-topicconcept" id="toc-what-is-topicconcept" class="nav-link" data-scroll-target="#what-is-topicconcept"><span class="header-section-number">3</span> What is [Topic/Concept]?</a></li>
  <li><a href="#getting-started-initial-exploration" id="toc-getting-started-initial-exploration" class="nav-link" data-scroll-target="#getting-started-initial-exploration"><span class="header-section-number">4</span> Getting Started: Initial Exploration</a></li>
  <li><a href="#exploring-the-data" id="toc-exploring-the-data" class="nav-link" data-scroll-target="#exploring-the-data"><span class="header-section-number">5</span> Exploring the Data</a>
  <ul class="collapse">
  <li><a href="#looking-for-relationships" id="toc-looking-for-relationships" class="nav-link" data-scroll-target="#looking-for-relationships"><span class="header-section-number">5.1</span> Looking for Relationships</a></li>
  </ul></li>
  <li><a href="#building-a-model" id="toc-building-a-model" class="nav-link" data-scroll-target="#building-a-model"><span class="header-section-number">6</span> Building a Model</a>
  <ul class="collapse">
  <li><a href="#making-predictions" id="toc-making-predictions" class="nav-link" data-scroll-target="#making-predictions"><span class="header-section-number">6.1</span> Making Predictions</a></li>
  </ul></li>
  <li><a href="#checking-our-work" id="toc-checking-our-work" class="nav-link" data-scroll-target="#checking-our-work"><span class="header-section-number">7</span> Checking Our Work</a>
  <ul class="collapse">
  <li><a href="#things-to-watch-out-for" id="toc-things-to-watch-out-for" class="nav-link" data-scroll-target="#things-to-watch-out-for"><span class="header-section-number">7.1</span> Things to Watch Out For</a></li>
  </ul></li>
  <li><a href="#what-did-we-learn" id="toc-what-did-we-learn" class="nav-link" data-scroll-target="#what-did-we-learn"><span class="header-section-number">8</span> What Did We Learn?</a>
  <ul class="collapse">
  <li><a href="#lessons-learnt" id="toc-lessons-learnt" class="nav-link" data-scroll-target="#lessons-learnt"><span class="header-section-number">8.1</span> Lessons Learnt</a></li>
  <li><a href="#limitations" id="toc-limitations" class="nav-link" data-scroll-target="#limitations"><span class="header-section-number">8.2</span> Limitations</a></li>
  <li><a href="#opportunities-for-improvement" id="toc-opportunities-for-improvement" class="nav-link" data-scroll-target="#opportunities-for-improvement"><span class="header-section-number">8.3</span> Opportunities for Improvement</a></li>
  </ul></li>
  <li><a href="#wrapping-up" id="toc-wrapping-up" class="nav-link" data-scroll-target="#wrapping-up"><span class="header-section-number">9</span> Wrapping Up</a></li>
  <li><a href="#see-also" id="toc-see-also" class="nav-link" data-scroll-target="#see-also"><span class="header-section-number">10</span> See Also</a></li>
  <li><a href="#reproducibility" id="toc-reproducibility" class="nav-link" data-scroll-target="#reproducibility"><span class="header-section-number">11</span> Reproducibility</a></li>
  <li><a href="#lets-connect" id="toc-lets-connect" class="nav-link" data-scroll-target="#lets-connect"><span class="header-section-number">12</span> Let‚Äôs Connect!</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Constructing a reproducible blog post using zzcollab tools</h1>
<p class="subtitle lead">A template ü§î</p>
  <div class="quarto-categories">
    <div class="quarto-category">R Programming</div>
    <div class="quarto-category">Data Science</div>
    <div class="quarto-category">Statistical Computing</div>
  </div>
  </div>

<div>
  <div class="description">
    I didn‚Äôt really know much about [topic] until I tried to [implement/understand] it myself. Here‚Äôs what I learned along the way.
  </div>
</div>


<div class="quarto-title-meta column-page-right">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ronald G. Thomas </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<!-- ============================================================================
EXEMPLAR BLOG POST TEMPLATE
============================================================================

This is a template demonstrating ZZCOLLAB best practices for reproducible blog
posts. It shows:

‚úì Separation of concerns (analysis code in scripts/, narrative in this file)
‚úì Pre-generated figures and data (loaded from analysis/*)
‚úì Professional visual rhythm (hero + ambiance images)
‚úì Result tables extracted from analysis
‚úì Clear author guidance with TEMPLATE INSTRUCTION comments

TO USE THIS TEMPLATE FOR YOUR OWN POST:
1. Copy the template_post directory
2. Follow TEMPLATE INSTRUCTION comments throughout
3. Update YAML front matter (title, author, date, categories, image)
4. Replace [placeholders] with your content
5. Ensure analysis scripts run: 01_prepare_data.R ‚Üí 02_fit_models.R ‚Üí 03_generate_figures.R
6. Load results from data files (don't re-compute in this file)

STRUCTURE OVERVIEW:
- Introduction: Hook with personal learning narrative (2-3 paragraphs)
- Motivations & Objectives: Why this topic? What did you want to learn?
- Conceptual Explanation: What is [Topic]? (plain language)
- Analysis Sections: Present findings with figures and tables
- Lessons Learned: Key takeaways
- Limitations & Future Work: Honest assessment
- References & Reproducibility: Citations and how to reproduce

VISUAL RHYTHM (2-3 "ambiance" images for engagement):
- HERO IMAGE: ~width:80% after intro (below "Motivations")
- AMBIANCE IMAGE 1: ~width:100%, 500px height, after first section
- AMBIANCE IMAGE 2: ~width:100%, 500px height, after mid-point
- Analysis figures: Full width, 600-800px height

See comments below for exact placement and sizing.

============================================================================ -->
<!-- ============================================================================
HERO IMAGE SECTION
============================================================================ -->
<!-- TEMPLATE INSTRUCTION: HERO IMAGE

The hero image is your first visual impression - it sets the tone for the entire
post and appears in blog listings. It should be:
- Engaging and relevant to your topic
- High quality (300 DPI or higher)
- Professional and accessible
- Properly attributed if from external source

Current: penguin-hero.jpg (penguin theme - replace with your topic!)

Options for sourcing:
- UNSPLASH: Free high-quality images ‚Üí put in media/images/, add attribution to media/images/README.md
- LOCAL SCREENSHOTS: Your own analysis environments ‚Üí include media/images/README.md with creation date
- GENERATED: R-produced visualizations ‚Üí save to analysis/figures/ and reference there

PLACEMENT: This will be displayed in the blog listing, so make it count!

ATTRIBUTION: Document the source in analysis/media/images/README.md
-->
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/penguin-hero.jpg" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Engaging hero image that introduces your topic visually</figcaption>
</figure>
</div>
<p><em>Photo caption with attribution if needed. This image sets the visual tone for your entire post.</em></p>
<!-- ============================================================================
INTRODUCTION SECTION
============================================================================ -->
<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<!-- TEMPLATE INSTRUCTION: INTRODUCTION - Ken Koon Wong Style

Purpose: Hook with personal learning narrative
Ken's approach:
- "I didn't really know... until I learned"
- Establishes author as learner, not expert
- Creates immediate relatability
- Conversational, humble tone

Keep it SHORT - 2-3 paragraphs max. Save detailed explanations for later.

EXAMPLE STRUCTURE:
Paragraph 1: Your "I didn't know until..." hook
Paragraph 2: Brief context (the problem you faced)
Paragraph 3: Transition to what you wanted to accomplish
-->
<p>I didn‚Äôt really know much about [topic] until I [encountered situation/tried to implement it/needed it for project]. Like many data scientists, I thought [initial misconception or assumption]. Turns out, [what you actually discovered] ü§î</p>
<p>[Brief context: Why did you need this? What problem were you trying to solve? Keep it personal and specific.]</p>
<p>Here‚Äôs what I set out to understand:</p>
<section id="motivations" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="motivations"><span class="header-section-number">1.1</span> Motivations</h2>
<!-- TEMPLATE INSTRUCTION: MOTIVATIONS SECTION

Ken Koon Wong always includes a "Motivations" section that explains WHY the topic
matters. This is crucial - it helps readers understand if YOUR problem is THEIR problem.

Make it personal and specific:
- Don't just say "optimization is important"
- Say "I was frustrated that my analysis took 3 hours to run on a 2M row dataset"

EXAMPLE:
**Why explore [topic]?**
- [Personal reason 1]: I had a specific problem (e.g., "My plots looked ugly")
- [Practical need 2]: Gap in my workflow (e.g., "I had no systematic way to X")
- [Learning goal 3]: Skill I wanted to develop (e.g., "I'd only used Y, never Z")
- [Curiosity 4]: Interesting question (e.g., "I wondered if X was faster than Y")
-->
<p><strong>Why explore [topic]?</strong> - [Personal reason 1: specific problem you faced] - [Practical need 2: gap in your workflow] - [Learning goal 3: skill you wanted to develop] - [Curiosity 4: interesting question you had]</p>
</section>
<section id="objectives" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="objectives"><span class="header-section-number">1.2</span> Objectives</h2>
<!-- TEMPLATE INSTRUCTION: OBJECTIVES SECTION

Clear, numbered goals. Ken's style.

Make them SPECIFIC and MEASURABLE where possible:
- BAD: "Learn about modeling"
- GOOD: "Fit a linear regression, compare R¬≤, and identify which variables predict MPG"

This section should match what you actually accomplished in the post.
The reader uses this as a mental roadmap of what they'll learn.
-->
<p><strong>What I wanted to accomplish:</strong> 1. [Specific, measurable objective 1] 2. [Specific, measurable objective 2] 3. [Specific, measurable objective 3] 4. [Stretch goal or advanced concept]</p>
<p><strong>Disclaimer:</strong> I‚Äôm documenting my learning process here. If you spot errors or have better approaches, please let me know! üíô</p>
<!-- ============================================================================
AMBIANCE IMAGE 1 (OPTIONAL BUT RECOMMENDED)
============================================================================

Large format image for visual rhythm. Place after introductory section.

SIZING: width: 100%, height: auto (or ~500px for consistent spacing)
PURPOSE: Break up dense introductory text, maintain reader engagement
CONTENT: Should relate to topic but can be more atmospheric/creative

EXAMPLES:
- Overhead desk setup photo
- Code editor screenshot
- Data visualization in action
- Office/workspace ambiance
- Topic-related artwork
============================================================================ -->
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/penguin-hero.jpg" class="img-fluid figure-img"></p>
<figcaption>Atmospheric image to maintain visual engagement - replace with relevant scene</figcaption>
</figure>
</div>
<!-- ============================================================================
PREREQUISITES AND SETUP SECTION
============================================================================ -->
</section>
</section>
<section id="prerequisites-and-setup" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Prerequisites and Setup</h1>
<!-- TEMPLATE INSTRUCTION: PREREQUISITES - Ken's Style

Keep it minimal and conversational. Show the code first, explain briefly.
Don't overwhelm with requirements.

For ZZCOLLAB blog posts, data should be ALREADY PREPARED by scripts.
So this section should just show how to LOAD the prepared data and utilities.

DO NOT include inline data cleaning here - that's in 01_prepare_data.R

EXAMPLE:
- Load libraries (from renv automatically installed)
- Load prepared data from CSV: read_csv("data/derived_data/...")
- Load utility functions: source("R/plotting_utils.R")
- Display basic structure to confirm loaded correctly
-->
<p>Here‚Äôs what you‚Äôll need to follow along:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install packages if needed (renv should have handled this)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># But just in case:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"broom"</span>, <span class="st">"knitr"</span>, <span class="st">"patchwork"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"R/plotting_utils.R"</span>)  <span class="co"># Load custom utility functions</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup theme and colors</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">setup_plot_theme</span>()</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">get_analysis_colors</span>()</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Load PREPARED data (generated by 01_prepare_data.R)</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># This data includes derived variables and transformations</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>mtcars_clean <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/derived_data/mtcars_clean.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Background:</strong> Basic R and ggplot2 familiarity helpful but not required. I‚Äôll explain concepts as we go!</p>
<div class="quarto-figure quarto-figure-center" style="margin: 2rem 0;">
<figure class="figure">
<p><img src="../../images/posts/media/images/penguin-hero.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Foundational concepts and theoretical frameworks</figcaption>
</figure>
</div>
</section>
<section id="what-is-topicconcept" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> What is [Topic/Concept]?</h1>
<!-- TEMPLATE INSTRUCTION: CONCEPTUAL FOUNDATION

Ken often includes a "What is X?" section explaining concepts in plain language.

STRUCTURE:
1. Start with simple definition (1 sentence)
2. Use analogy or comparison (helps understanding)
3. Give concrete example (makes it real)
4. Keep it brief (2-4 sentences total)
5. THEN show the code

Purpose: Readers without domain expertise should understand the concept.

EXAMPLE FOR "LINEAR REGRESSION":
"Linear regression is a method for understanding how one variable depends on
another - kind of like fitting a straight line through a scatter plot of points.
Imagine you're trying to predict someone's height based on their parents'
heights: you'd draw a line through data points, then use that line to make
predictions for new people. That's what linear regression does."
-->
<p>Before diving into code, let‚Äôs clarify what [topic] actually means. [Simple, plain-language explanation of the concept. Use an analogy if helpful.] In practice, this means [concrete example or application].</p>
</section>
<section id="getting-started-initial-exploration" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Getting Started: Initial Exploration</h1>
<!-- TEMPLATE INSTRUCTION: FIRST ANALYSIS SECTION

This is where the real analysis begins!

STRUCTURE:
- CODE FIRST (show it)
- OUTPUT (display results)
- BRIEF INTERPRETATION (2-4 sentences)

Ken's ratio: ~40% code, 60% explanation. Don't explain every line of code.
Assume reader can understand basic R - focus on the "why" and "what does this mean"

INCLUDE SUMMARY TABLE: Show key statistics from prepared data
-->
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display structure of prepared data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(mtcars_clean)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Okay, so we have 32 cars with 11 variables. Let‚Äôs see what we‚Äôre working with here ü§î</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Key summary stats</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> mtcars_clean <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mpg_mean =</span> <span class="fu">round</span>(<span class="fu">mean</span>(mpg), <span class="dv">1</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mpg_sd =</span> <span class="fu">round</span>(<span class="fu">sd</span>(mpg), <span class="dv">1</span>),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">hp_mean =</span> <span class="fu">round</span>(<span class="fu">mean</span>(hp), <span class="dv">0</span>),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">hp_sd =</span> <span class="fu">round</span>(<span class="fu">sd</span>(hp), <span class="dv">0</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(summary_table,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"MPG Mean"</span>, <span class="st">"MPG SD"</span>, <span class="st">"HP Mean"</span>, <span class="st">"HP SD"</span>),</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Summary Statistics: Motor Trend Car Data"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Not too shabby! Average fuel efficiency is 20.1 MPG with quite a bit of variation (SD = 6.0).</p>
</section>
<section id="exploring-the-data" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Exploring the Data</h1>
<!-- TEMPLATE INSTRUCTION: RESULTS VISUALIZATION SECTION

Here's where your pre-generated figures come in!
See analysis/scripts/03_generate_figures.R for how these were created.

PATTERN:
1. Load results from analysis/data/derived_data/
2. Display pre-generated figure with caption
3. Brief interpretation (what do we learn?)

FIGURE SIZING:
- Main analysis figures: width = "100%" (full width)
- Captions should be descriptive and in-line with data interpretation
- Alt text should be detailed for accessibility

DON'T: re-create these figures inline (they're already generated!)
DO: reference the pre-generated files and focus on interpretation
-->
<p>Let‚Äôs visualize these patterns. I pre-generated these figures using analysis/scripts/03_generate_figures.R:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"figures/eda-overview.png"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/eda-overview.png" class="img-fluid figure-img" alt="Two-panel figure: left shows histogram of MPG distribution ranging from ~10-35 mpg, right shows boxplots for 4, 6, and 8 cylinder vehicles" width="1500"></p>
<figcaption>Distribution of fuel efficiency across the dataset. Left: Histogram showing MPG distribution. Right: Boxplots of MPG by cylinder count reveal engines with more cylinders tend to have lower fuel efficiency.</figcaption>
</figure>
</div>
</div>
</div>
<p>Wow, that‚Äôs a clear pattern! Cars with fewer cylinders are way more fuel-efficient üìä</p>
<!-- TEMPLATE INSTRUCTION: AMBIANCE IMAGE 2 (OPTIONAL)

Another atmospheric image to maintain visual engagement.
Place after first major figure section.

This creates rhythm: text ‚Üí figure ‚Üí ambiance image ‚Üí text ‚Üí figure

SIZING: width: 100%, height: auto
PURPOSE: Mental break, maintain engagement, visual balance
============================================================================ -->
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/penguin-hero.jpg" class="img-fluid figure-img"></p>
<figcaption>Visual break - another atmospheric image maintaining engagement</figcaption>
</figure>
</div>
<section id="looking-for-relationships" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="looking-for-relationships"><span class="header-section-number">5.1</span> Looking for Relationships</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find strongest correlations with MPG</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>correlations <span class="ot">&lt;-</span> <span class="fu">cor</span>(mtcars_clean <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"var1"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>var1, <span class="at">names_to =</span> <span class="st">"var2"</span>, <span class="at">values_to =</span> <span class="st">"correlation"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(var1 <span class="sc">==</span> <span class="st">"mpg"</span>, var2 <span class="sc">!=</span> <span class="st">"mpg"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="fu">abs</span>(correlation)))</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Display top 5</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(correlations <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">5</span>),</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Top 5 Correlations with MPG (fuel efficiency)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>üîç Weight has the strongest correlation with MPG (r = -0.87). Let‚Äôs visualize that relationship:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"figures/correlation-plot.png"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/correlation-plot.png" class="img-fluid figure-img" alt="Scatter plot with vehicle weight (x-axis, 1000-5500 lbs) vs MPG (y-axis, 10-35 mpg), colored by cylinder count (4/6/8 cyl), with fitted regression line" width="1200"></p>
<figcaption>Strong negative relationship between vehicle weight and fuel efficiency. Heavier cars consistently get worse mileage, regardless of cylinder count. The fitted regression line (dashed) shows the overall trend.</figcaption>
</figure>
</div>
</div>
</div>
<p>Interesting! Heavier cars consistently get worse mileage. Makes sense when you think about it üöó</p>
<div class="quarto-figure quarto-figure-center" style="margin: 2rem 0;">
<figure class="figure">
<p><img src="../../images/posts/media/images/penguin-hero.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Statistical modeling and quantification approaches</figcaption>
</figure>
</div>
</section>
</section>
<section id="building-a-model" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Building a Model</h1>
<!-- TEMPLATE INSTRUCTION: MAIN ANALYSIS SECTION

This is the heart of your post! Show your model results and interpretation.

STRUCTURE:
1. Load pre-computed model results from CSV files
2. Display results in clean tables (using knitr::kable)
3. Brief interpretation
4. Show pre-generated model visualization

KEY PRINCIPLE: Results were computed by 02_fit_models.R
You're just presenting and interpreting them here.

RESULT TABLES:
- Model coefficients with confidence intervals
- Model metrics (R¬≤, F-stat, p-value)
- Any diagnostic summaries

AVOID:
- Re-fitting models inline (wastes time, breaks reproducibility)
- Long code chunks (show the figure, not the code to generate it)
- Unexplained statistics (briefly interpret each result)
============================================================================ -->
<p>Let me fit a simple linear model to quantify this relationship:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load pre-computed model results from 02_fit_models.R</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>model_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/derived_data/model_coefficients.csv"</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>model_metrics <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/derived_data/model_metrics.csv"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display model coefficients</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(model_coef <span class="sc">%&gt;%</span> <span class="fu">select</span>(term, estimate, std.error, p.value, conf.low, conf.high),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">digits =</span> <span class="dv">4</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Linear Regression Results: MPG ~ Weight"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display fit metrics</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(model_metrics <span class="sc">%&gt;%</span> <span class="fu">select</span>(r.squared, adj.r.squared, statistic, p.value, df.residual),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">digits =</span> <span class="dv">4</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Model Fit Metrics"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>üìä <strong>Nice! The model explains 75% of the variance (R¬≤ = 0.75).</strong> For every 1,000 lbs of weight, we lose about 5.3 MPG (95% CI: [-6.5, -4.1]) ‚úÖ</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"figures/model-plot.png"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/model-plot.png" class="img-fluid figure-img" alt="Scatter plot with fitted regression line and gray confidence band, showing negative relationship between weight and MPG" width="1200"></p>
<figcaption>Linear regression fit showing the relationship between vehicle weight and fuel efficiency. The gray band represents the 95% confidence interval around the fitted line. The fit is quite good, explaining 75% of the variance in MPG.</figcaption>
</figure>
</div>
</div>
</div>
<section id="making-predictions" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="making-predictions"><span class="header-section-number">6.1</span> Making Predictions</h2>
<!-- TEMPLATE INSTRUCTION: PRACTICAL APPLICATION

Show how to use your model for something useful.
This helps readers see the real-world value of your analysis.

Include concrete examples with actual numbers.
-->
<p>Let me make some predictions to see how this works in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict MPG for different weights</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>new_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">wt =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/derived_data/simple_model.rds"</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, <span class="at">newdata =</span> new_data, <span class="at">interval =</span> <span class="st">"confidence"</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(new_data, predictions) <span class="sc">%&gt;%</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">2</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Predicted MPG for Vehicles of Different Weights"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>üìù So a 2,000 lb car gets ~30 MPG, while a 4,000 lb car only gets ~15 MPG. That‚Äôs quite a difference!</p>
</section>
</section>
<section id="checking-our-work" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Checking Our Work</h1>
<!-- TEMPLATE INSTRUCTION: DIAGNOSTICS SECTION

Show you've validated your assumptions.
Be transparent about potential issues.

Load pre-generated diagnostic data from model fitting script.
Display residual plots and outlier analysis.
-->
<p>Before we trust these results, let‚Äôs check if our model assumptions hold up:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load pre-computed diagnostics</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>diagnostics <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/derived_data/model_diagnostics.csv"</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>outlier_count <span class="ot">&lt;-</span> <span class="fu">sum</span>(diagnostics<span class="sc">$</span>is_outlier)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Outliers found (&gt;2.5 SD):"</span>, outlier_count, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Residual SE:"</span>, <span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">mean</span>(diagnostics<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>)), <span class="dv">2</span>), <span class="st">"MPG</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>‚ö†Ô∏è <strong>Diagnostic checks:</strong> Found 2-3 potential outliers (&gt;2.5 SD) when running the analysis.</p>
<p>Now let‚Äôs visualize the residuals to check for patterns:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"figures/diagnostics-plot.png"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/diagnostics-plot.png" class="img-fluid figure-img" alt="Scatter plot of standardized residuals (y-axis) vs predicted values (x-axis), with reference lines at -2, 0, +2" width="1200"></p>
<figcaption>Residual diagnostic plot showing standardized residuals vs fitted values. The red dashed lines mark ¬±2 standard deviations. A good model should show residuals randomly scattered around zero with no patterns. We have a few potential outliers but overall the fit looks reasonable.</figcaption>
</figure>
</div>
</div>
</div>
<p>Looks pretty good! No major patterns in the residuals, though we have a couple of potential outliers worth investigating üîç</p>
<section id="things-to-watch-out-for" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="things-to-watch-out-for"><span class="header-section-number">7.1</span> Things to Watch Out For</h2>
<!-- TEMPLATE INSTRUCTION: GOTCHAS SECTION

Share what you learned the hard way.
Be conversational and personal.
Help readers avoid your mistakes.

Use first person: "I found that..." "Watch out for..."
-->
<p>A few gotchas I encountered while working on this:</p>
<ol type="1">
<li><p><strong>Don‚Äôt extrapolate too far</strong> - This model works for weights between 1.5-5.5 thousand lbs. Predicting outside that range? Risky!</p></li>
<li><p><strong>Correlation ‚â† Causation</strong> - Weight correlates with MPG, but there are confounding variables (engine size, aerodynamics, etc.)</p></li>
<li><p><strong>Check your assumptions</strong> - Always plot residuals! A good R¬≤ doesn‚Äôt guarantee your model is appropriate.</p></li>
<li><p><strong>Small sample size</strong> - We only have 32 cars. Take the confidence intervals seriously!</p></li>
</ol>
<!-- ============================================================================
AMBIANCE IMAGE 3 (OPTIONAL)

Final atmospheric image, perhaps wrapping up the post visually.
Place before "Lessons Learned" section.

This creates visual bookends around the main analysis.
============================================================================ -->
<p><img src="media/images/penguin-hero.jpg" class="img-fluid" alt="Concluding visual - tie back to topic theme"> <img src="../../images/posts/media/images/penguin-hero.jpg" class="img-fluid" style="margin: 2rem 0;;width:100.0%" alt="Synthesis and comprehensive understanding development"></p>
</section>
</section>
<section id="what-did-we-learn" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> What Did We Learn?</h1>
<!-- TEMPLATE INSTRUCTION: LESSONS LEARNT - Ken's Signature Section!

This is Ken's trademark section - always included.

STRUCTURE:
- Bullet points of key takeaways
- Tools/packages mastered
- Concepts understood
- Skills developed
- Be specific and actionable

THREE CATEGORIES:
1. Conceptual Understanding (what did you learn about the domain?)
2. Technical Skills (what tools/techniques did you master?)
3. Gotchas and Pitfalls (what could go wrong?)
-->
<section id="lessons-learnt" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="lessons-learnt"><span class="header-section-number">8.1</span> Lessons Learnt</h2>
<p>Here‚Äôs what I took away from this exploration:</p>
<p><strong>Conceptual Understanding:</strong> - Vehicle weight is a strong predictor of fuel efficiency (R¬≤ = 0.75) - Each 1,000 lbs reduces MPG by ~5.3 miles (95% CI: [-6.5, -4.1]) - Cylinder count effects are partially mediated through weight - Simple models can be surprisingly effective with the right predictor</p>
<p><strong>Technical Skills:</strong> - Using <code>broom::tidy()</code> for clean model output formatting ‚úÖ - Calculating and interpreting confidence intervals for predictions - Creating diagnostic plots to validate regression assumptions - Combining multiple ggplot visualizations with <code>patchwork</code></p>
<p><strong>Gotchas and Pitfalls:</strong> - Always check residual plots - R¬≤ alone isn‚Äôt enough! - Extrapolation beyond data range is dangerous - Small sample sizes (n=32) require cautious interpretation - Correlation doesn‚Äôt prove causation (confounding variables matter)</p>
</section>
<section id="limitations" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="limitations"><span class="header-section-number">8.2</span> Limitations</h2>
<!-- TEMPLATE INSTRUCTION: LIMITATIONS - Ken's Style

Be honest and transparent.
Ken acknowledges limitations upfront.
Keep it concise - bullet points work well.

This shows scientific maturity and helps readers know when your findings apply.
-->
<p>This analysis has several limitations to keep in mind:</p>
<ul>
<li><strong>Old data</strong>: mtcars is from 1974 - modern vehicles (hybrids, EVs) behave differently</li>
<li><strong>Small sample</strong>: Only 32 observations limits statistical power</li>
<li><strong>Missing variables</strong>: Doesn‚Äôt account for aerodynamics, transmission type, engine tech</li>
<li><strong>Simple model</strong>: Single predictor ignores important confounders</li>
<li><strong>Limited scope</strong>: Only passenger cars; may not generalize to trucks/SUVs</li>
</ul>
</section>
<section id="opportunities-for-improvement" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="opportunities-for-improvement"><span class="header-section-number">8.3</span> Opportunities for Improvement</h2>
<!-- TEMPLATE INSTRUCTION: OPPORTUNITIES - Another Ken Signature!

Forward-looking section on what could be done next.
- Extensions to try
- Better approaches
- Future directions
- Related analyses

This helps readers see where research/learning could go next.
-->
<p>If I had more time, here‚Äôs what I‚Äôd explore next:</p>
<ol type="1">
<li><strong>Multiple regression</strong> - Add cylinder count, horsepower, transmission type</li>
<li><strong>Interaction effects</strong> - Does weight impact differ by number of cylinders?</li>
<li><strong>Modern data</strong> - Replicate with 2020+ vehicle data to see how relationships changed</li>
<li><strong>Non-linear models</strong> - Try polynomial regression or splines for better fit</li>
<li><strong>Machine learning comparison</strong> - How does linear regression compare to random forest?</li>
<li><strong>Causal inference</strong> - Use techniques to establish causality, not just correlation</li>
</ol>
</section>
</section>
<section id="wrapping-up" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Wrapping Up</h1>
<!-- TEMPLATE INSTRUCTION: CONCLUSION - Ken's Style

Short, friendly, forward-looking.
Ken often invites collaboration and questions.
Acknowledges ongoing learning.
Expresses gratitude.

Keep it brief - 2-3 paragraphs max.
End with üíô or similar warm closing.
-->
<p>So that‚Äôs my journey exploring [topic]! We saw that vehicle weight is a powerful predictor of fuel efficiency, accounting for 75% of the variance. The model is simple but effective, though it has limitations worth keeping in mind.</p>
<p><strong>Main takeaways:</strong> - Weight strongly predicts MPG (R¬≤ = 0.75, Œ≤ = -5.3) - Always check model assumptions with diagnostic plots - Confidence intervals matter, especially with small samples - Simple models can be surprisingly powerful</p>
<p>I learned a lot working through this, especially about [specific technical skill you gained]. There‚Äôs definitely room for improvement‚Äîadding more predictors, trying non-linear models, and using modern data would all be interesting extensions.</p>
<p><strong>If you‚Äôre trying this yourself:</strong> - Start with exploration before modeling - Plot your residuals! - Don‚Äôt trust high R¬≤ blindly - Report confidence intervals alongside point estimates</p>
<p>Thanks for following along! üíô</p>
</section>
<section id="see-also" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> See Also</h1>
<!-- TEMPLATE INSTRUCTION: SEE ALSO - Ken's Style

Ken keeps this section VERY simple.
Links to related blog posts or resources.
Not an exhaustive bibliography.
Usually 3-5 key links.
-->
<p>Related posts and resources:</p>
<ul>
<li>[Link to related post 1]</li>
<li>[Link to related post 2]</li>
<li>[Link to related resource]</li>
</ul>
<p><strong>Key Resources:</strong> - <a href="https://r4ds.had.co.nz/">R for Data Science</a> - Free book on tidyverse - <a href="https://www.statlearning.com/">Introduction to Statistical Learning</a> - Free textbook with R code - <a href="https://broom.tidymodels.org/">broom package docs</a> - Tidy model outputs - <a href="https://stats.stackexchange.com/">Cross Validated</a> - Stats Q&amp;A community</p>
<hr>
</section>
<section id="reproducibility" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Reproducibility</h1>
<!-- TEMPLATE INSTRUCTION: REPRODUCIBILITY

The beauty of ZZCOLLAB: readers can fully reproduce your analysis!

Include:
1. How to run the analysis pipeline
2. Environment information (Docker, renv)
3. Session info

Emphasize that all analysis code is in analysis/scripts/ and all figures
are pre-generated - this post is just the narrative.
-->
<p><strong>Data:</strong> mtcars (built-in R dataset, loaded by analysis/scripts/01_prepare_data.R)</p>
<p><strong>Analysis Pipeline:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> docker-build</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> docker-post-render</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Or step-by-step:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> analysis/scripts/01_prepare_data.R</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> analysis/scripts/02_fit_models.R</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> analysis/scripts/03_generate_figures.R</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render index.qmd</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>All Reproducible Code:</strong> - <code>analysis/scripts/01_prepare_data.R</code> - Data preparation - <code>analysis/scripts/02_fit_models.R</code> - Model fitting - <code>analysis/scripts/03_generate_figures.R</code> - Figure generation - <code>R/plotting_utils.R</code> - Reusable utility functions - <code>analysis/paper/index.qmd</code> - This blog post (narrative only)</p>
<p><strong>Session Information:</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.5.2 (2025-10-31)
Platform: aarch64-apple-darwin20
Running under: macOS Sequoia 15.6.1

Matrix products: default
BLAS:   /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: America/Los_Angeles
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
 [1] htmlwidgets_1.6.4 compiler_4.5.2    fastmap_1.2.0     cli_3.6.5        
 [5] tools_4.5.2       htmltools_0.5.9   parallel_4.5.2    yaml_2.3.11      
 [9] rmarkdown_2.30    knitr_1.50        jsonlite_2.0.0    xfun_0.54        
[13] digest_0.6.39     rlang_1.1.6       png_0.1-8         evaluate_1.0.5   </code></pre>
</div>
</div>
<hr>
</section>
<section id="lets-connect" class="level1" data-number="12">
<h1 data-number="12"><span class="header-section-number">12</span> Let‚Äôs Connect!</h1>
<!-- TEMPLATE INSTRUCTION: ENGAGEMENT - Ken's Style

Ken invites questions and corrections.
Emphasizes collaboration and learning together.
Often includes social media links.
Uses friendly, welcoming tone.

This shows you're human, approachable, and open to feedback.
-->
<p><em>Have questions, suggestions, or spot an error? Let me know!</em></p>
<ul>
<li><strong>Twitter/X</strong>: <a href="https://twitter.com/rgt47"><span class="citation" data-cites="rgt47">@rgt47</span></a></li>
<li><strong>Mastodon</strong>: <a href="https://mastodon.social/@username"><span class="citation" data-cites="your_mastodon">@your_mastodon</span></a></li>
<li><strong>GitHub</strong>: <a href="https://github.com/rgt47">rgt47</a></li>
<li><strong>Email</strong>: <a href="https://rgtlab.org/contact">Contact form</a></li>
</ul>
<p><strong>Please reach out</strong> if you: - Spot errors or have corrections - Have suggestions for improvement - Want to discuss the approach - Have questions about implementation - Just want to connect! üíô</p>
<hr>
<!-- ============================================================================
TEMPLATE CHECKLIST - Review before publishing

Before publishing your blog post, verify:

‚òê YAML Front Matter
  ‚òê Unique, engaging title
  ‚òê Descriptive subtitle
  ‚òê Correct author name
  ‚òê Publication date
  ‚òê 2-3 relevant categories
  ‚òê Brief description (for blog listing)
  ‚òê Hero image path (media/images/...)
  ‚òê document-type: "blog"
  ‚òê draft: false (when ready)

‚òê Structure
  ‚òê Introduction with "I didn't know..." hook (2-3 paragraphs)
  ‚òê Motivations section (personal reasons)
  ‚òê Objectives section (numbered list)
  ‚òê Conceptual explanation ("What is X?")
  ‚òê Analysis sections with CODE ‚Üí OUTPUT ‚Üí INTERPRETATION
  ‚òê Summary table of key results
  ‚òê Pre-generated figure with caption and alt text
  ‚òê Lessons Learnt section (conceptual + technical + gotchas)
  ‚òê Limitations (honest assessment)
  ‚òê Opportunities for Improvement (future directions)
  ‚òê Conclusion (short, friendly)
  ‚òê See Also (3-5 key links)
  ‚òê Reproducibility section

‚òê Visual Design
  ‚òê Hero image at top (80% width)
  ‚òê 2-3 ambiance images for visual rhythm (100% width)
  ‚òê All analysis figures with proper captions and alt text
  ‚òê Consistent image sizing
  ‚òê Professional spacing between sections

‚òê Analysis Integration
  ‚òê All analysis code in analysis/scripts/ (01_, 02_, 03_)
  ‚òê No inline model fitting (load results from CSV)
  ‚òê No inline figure generation (load from analysis/figures/)
  ‚òê All data loading from prepared CSVs (not raw)
  ‚òê Proper attribution of utilities (source("R/plotting_utils.R"))

‚òê Content Quality
  ‚òê Tone is personal and conversational
  ‚òê Author positioned as learner, not expert
  ‚òê Emoji used for visual rhythm (ü§î ‚úÖ ‚ùå üìä üíô)
  ‚òê Explanations are SHORT (2-4 sentences between code blocks)
  ‚òê Results interpreted, not just displayed
  ‚òê No unexplained statistics

‚òê Reproducibility
  ‚òê All analysis pipelines documented
  ‚òê Docker/renv setup clear
  ‚òê Reader can clone and reproduce end-to-end
  ‚òê Session info included
  ‚òê Links to raw data/scripts

‚òê Metadata
  ‚òê All images have descriptive captions
  ‚òê All figures have alt text
  ‚òê References are properly cited (if applicable)
  ‚òê Author credentials clear
  ‚òê Contact information provided

============================================================================ -->


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{(ryy)_glenn_thomas2025,
  author = {(Ryy) Glenn Thomas, Ronald and G. Thomas, Ronald},
  title = {Constructing a Reproducible Blog Post Using Zzcollab Tools},
  date = {2025-01-01},
  url = {https://focusonr.org/posts/templatepost/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-(ryy)_glenn_thomas2025" class="csl-entry quarto-appendix-citeas" role="listitem">
(Ryy) Glenn Thomas, Ronald, and Ronald G. Thomas. 2025.
<span>‚ÄúConstructing a Reproducible Blog Post Using Zzcollab
Tools.‚Äù</span> January 1, 2025. <a href="https://focusonr.org/posts/templatepost/">https://focusonr.org/posts/templatepost/</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/focusonr\.org");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="light">
<script>
  function loadGiscus() {
    // Function to get the theme based on body class
    const getTheme = () => {
      let baseTheme = document.getElementById('giscus-base-theme').value;
      let altTheme = document.getElementById('giscus-alt-theme').value;
      return document.body.classList.contains('quarto-dark') ? altTheme : baseTheme;
    };
    const script = document.createElement("script");
    script.src = "https://giscus.app/client.js";
    script.async = true;
    script.dataset.repo = "rgt47/qblog";
    script.dataset.repoId = "R_kgDOH6TO7A";
    script.dataset.category = "General";
    script.dataset.categoryId = "DIC_kwDOH6TO7M4CXqIi";
    script.dataset.mapping = "pathname";
    script.dataset.reactionsEnabled = "1";
    script.dataset.emitMetadata = "0";
    script.dataset.inputPosition = "bottom";
    script.dataset.theme = getTheme();
    script.dataset.lang = "en";
    script.crossOrigin = "anonymous";
    // Append the script to the desired div instead of at the end of the body
    document.getElementById("quarto-content").appendChild(script);
  }
  loadGiscus();
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2023-2025, Ronald G. Thomas</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/rgt47">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/rgt47">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<!-- Fix for Quarto category encoding issue -->
<script>
// Fix category encoding for Quarto listing functionality
(function() {
  function fixAllCategoryEncoding() {
    // Only run on pages that have Quarto listings
    if (!document.querySelector('.quarto-listing')) {
      return;
    }
    
    // Fix sidebar category data-category attributes
    const categoryEls = document.querySelectorAll('.quarto-listing-category .category[data-category]');
    
    categoryEls.forEach((categoryEl) => {
      const category = categoryEl.getAttribute('data-category');
      
      if (category && category !== '') {
        // Check if it contains only base64 characters and proper length
        const isBase64 = /^[A-Za-z0-9+/]*={0,2}$/.test(category) && category.length % 4 === 0;
        
        if (isBase64) {
          try {
            const decoded = decodeURIComponent(atob(category));
            // Verify it decoded to something reasonable (no control characters)
            if (!decoded.match(/^[A-Za-z0-9\s\-,]+$/)) {
              // Invalid encoding, re-encode from original text
              const encodedCategory = btoa(encodeURIComponent(categoryEl.textContent.trim()));
              categoryEl.setAttribute('data-category', encodedCategory);
            }
          } catch (e) {
            // Base64 decode failed, re-encode from original text
            const encodedCategory = btoa(encodeURIComponent(categoryEl.textContent.trim()));
            categoryEl.setAttribute('data-category', encodedCategory);
          }
        } else {
          // Not base64, encode it
          const encodedCategory = btoa(encodeURIComponent(category));
          categoryEl.setAttribute('data-category', encodedCategory);
        }
      }
    });
    
    // Fix listing item data-categories attributes  
    const listingItems = document.querySelectorAll('[data-categories]');
    
    listingItems.forEach((item) => {
      const categories = item.getAttribute('data-categories');
      
      if (categories && categories !== '') {
        // Check if it's already base64 encoded
        try {
          decodeURIComponent(atob(categories));
          // Already encoded and valid
        } catch (e) {
          // Not encoded, fix it
          const encodedCategories = btoa(encodeURIComponent(categories));
          item.setAttribute('data-categories', encodedCategories);
        }
      }
    });
    
    // Fix post-specific category tag click handlers
    const postCategoryTags = document.querySelectorAll('.listing-category[onclick]');
    
    postCategoryTags.forEach((tag) => {
      const categoryText = tag.textContent.trim();
      
      // Replace the onclick handler to use encoded category
      tag.onclick = () => {
        const encodedCategory = btoa(encodeURIComponent(categoryText));
        window.quartoListingCategory(encodedCategory);
        return false;
      };
    });
  }
  
  // Run immediately
  fixAllCategoryEncoding();
  
  // Also run when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', fixAllCategoryEncoding);
  }
})();
</script>

<!-- PDF view/download button for blog posts -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Only add the button on post pages
  if (window.location.pathname.includes('/posts/') && !window.location.pathname.endsWith('/posts/') && !window.location.pathname.endsWith('/posts/index.html')) {
    var currentPath = window.location.pathname;
    // Handle both /posts/name/ and /posts/name/index.html formats
    var pdfPath;
    if (currentPath.endsWith('/')) {
      pdfPath = currentPath + 'index.pdf';
    } else {
      pdfPath = currentPath.replace('.html', '.pdf');
    }

    // Check if PDF exists first
    fetch(pdfPath, { method: 'HEAD' })
      .then(function(response) {
        if (response.ok) {
          // PDF exists, show download button
          showDownloadButton(pdfPath);
        }
        // If PDF doesn't exist, don't show any button
      })
      .catch(function(error) {
        // Error checking PDF, don't show any button
      });
  }
});

function showDownloadButton(pdfPath) {
  var downloadBtn = document.createElement('div');
  downloadBtn.className = 'pdf-download-button';

  // Get file size if possible
  fetch(pdfPath, { method: 'HEAD' })
    .then(function(response) {
      var size = response.headers.get('Content-Length');
      var sizeText = '';

      if (size) {
        // Convert to MB or KB
        var sizeInMB = size / (1024 * 1024);
        if (sizeInMB >= 1) {
          sizeText = ' (' + sizeInMB.toFixed(1) + ' MB)';
        } else {
          sizeText = ' (' + (size / 1024).toFixed(0) + ' KB)';
        }
      }

      downloadBtn.innerHTML =
        '<div class="alert alert-secondary d-flex align-items-center p-3" role="alert">' +
        '  <a href="' + pdfPath + '" class="btn btn-primary btn-sm me-3" target="_blank">' +
        '    <i class="bi bi-file-pdf me-1"></i> Download PDF' + sizeText +
        '  </a>' +
        '  <span class="small text-muted">View or save a printer-friendly version of this article</span>' +
        '</div>';
    })
    .catch(function() {
      // Basic fallback if we can't get file size
      downloadBtn.innerHTML =
        '<div class="alert alert-secondary d-flex align-items-center p-3" role="alert">' +
        '  <a href="' + pdfPath + '" class="btn btn-primary btn-sm me-3" target="_blank">' +
        '    <i class="bi bi-file-pdf me-1"></i> Download PDF' +
        '  </a>' +
        '  <span class="small text-muted">View or save a printer-friendly version of this article</span>' +
        '</div>';
    });

  // Find where to insert the button (right after the title block)
  var titleBlock = document.querySelector('.quarto-title-meta');
  if (titleBlock) {
    titleBlock.after(downloadBtn);
  }
}


</script>

<style>
.pdf-download-button {
  margin-top: 1rem;
  margin-bottom: 1rem;
}
</style>




</body></html>